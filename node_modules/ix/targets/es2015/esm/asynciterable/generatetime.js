import * as tslib_1 from "tslib";
import { AsyncIterableX } from '../asynciterable';
import { sleep } from './_sleep';
class GenerateTimeAsyncIterable extends AsyncIterableX {
    constructor(initialState, condition, iterate, resultSelector, timeSelector) {
        super();
        this._initialState = initialState;
        this._condition = condition;
        this._iterate = iterate;
        this._resultSelector = resultSelector;
        this._timeSelector = timeSelector;
    }
    [Symbol.asyncIterator]() {
        return tslib_1.__asyncGenerator(this, arguments, function* _a() {
            for (let i = this._initialState; yield tslib_1.__await(this._condition(i)); i = yield tslib_1.__await(this._iterate(i))) {
                yield tslib_1.__await(sleep(yield tslib_1.__await(this._timeSelector(i))));
                yield yield tslib_1.__await(this._resultSelector(i));
            }
        });
    }
}
export function generateTime(initialState, condition, iterate, resultSelector, timeSelector) {
    return new GenerateTimeAsyncIterable(initialState, condition, iterate, resultSelector, timeSelector);
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvZ2VuZXJhdGV0aW1lLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFDbEQsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUVqQywrQkFBaUQsU0FBUSxjQUF1QjtJQU85RSxZQUNJLFlBQW9CLEVBQ3BCLFNBQXdELEVBQ3hELE9BQW9ELEVBQ3BELGNBQTZELEVBQzdELFlBQXlEO1FBQzNELEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUM7UUFDbEMsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUM7UUFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7UUFDeEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxjQUFjLENBQUM7UUFDdEMsSUFBSSxDQUFDLGFBQWEsR0FBRyxZQUFZLENBQUM7SUFDcEMsQ0FBQztJQUVNLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQzs7WUFDM0IsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsSUFBSSxDQUFDLGFBQWEsRUFBRSxzQkFBTSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFBLEVBQUUsQ0FBQyxHQUFHLHNCQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUEsRUFBRSxDQUFDO2dCQUN0RixzQkFBTSxLQUFLLENBQUMsc0JBQU0sSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUEsQ0FBQztnQkFDekMsTUFBTSxzQkFBTSxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUM7WUFDdEMsQ0FBQztRQUNILENBQUM7S0FBQTtDQUNGO0FBRUQsTUFBTSx1QkFDRixZQUFvQixFQUNwQixTQUF3RCxFQUN4RCxPQUFvRCxFQUNwRCxjQUE2RCxFQUM3RCxZQUF5RDtJQUMzRCxNQUFNLENBQUMsSUFBSSx5QkFBeUIsQ0FDbEMsWUFBWSxFQUNaLFNBQVMsRUFDVCxPQUFPLEVBQ1AsY0FBYyxFQUNkLFlBQVksQ0FBQyxDQUFDO0FBQ2xCLENBQUMiLCJmaWxlIjoiYXN5bmNpdGVyYWJsZS9nZW5lcmF0ZXRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBc3luY0l0ZXJhYmxlWCB9IGZyb20gJy4uL2FzeW5jaXRlcmFibGUnO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tICcuL19zbGVlcCc7XG5cbmNsYXNzIEdlbmVyYXRlVGltZUFzeW5jSXRlcmFibGU8VFN0YXRlLCBUUmVzdWx0PiBleHRlbmRzIEFzeW5jSXRlcmFibGVYPFRSZXN1bHQ+IHtcbiAgcHJpdmF0ZSBfaW5pdGlhbFN0YXRlOiBUU3RhdGU7XG4gIHByaXZhdGUgX2NvbmRpdGlvbjogKHZhbHVlOiBUU3RhdGUpID0+IGJvb2xlYW4gfCBQcm9taXNlPGJvb2xlYW4+O1xuICBwcml2YXRlIF9pdGVyYXRlOiAodmFsdWU6IFRTdGF0ZSkgPT4gVFN0YXRlIHwgUHJvbWlzZTxUU3RhdGU+O1xuICBwcml2YXRlIF9yZXN1bHRTZWxlY3RvcjogKHZhbHVlOiBUU3RhdGUpID0+IFRSZXN1bHQgfCBQcm9taXNlPFRSZXN1bHQ+O1xuICBwcml2YXRlIF90aW1lU2VsZWN0b3I6ICh2YWx1ZTogVFN0YXRlKSA9PiBudW1iZXIgfCBQcm9taXNlPG51bWJlcj47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgICBpbml0aWFsU3RhdGU6IFRTdGF0ZSxcbiAgICAgIGNvbmRpdGlvbjogKHZhbHVlOiBUU3RhdGUpID0+IGJvb2xlYW4gfCBQcm9taXNlPGJvb2xlYW4+LFxuICAgICAgaXRlcmF0ZTogKHZhbHVlOiBUU3RhdGUpID0+IFRTdGF0ZSB8IFByb21pc2U8VFN0YXRlPixcbiAgICAgIHJlc3VsdFNlbGVjdG9yOiAodmFsdWU6IFRTdGF0ZSkgPT4gVFJlc3VsdCB8IFByb21pc2U8VFJlc3VsdD4sXG4gICAgICB0aW1lU2VsZWN0b3I6ICh2YWx1ZTogVFN0YXRlKSA9PiBudW1iZXIgfCBQcm9taXNlPG51bWJlcj4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2luaXRpYWxTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICB0aGlzLl9jb25kaXRpb24gPSBjb25kaXRpb247XG4gICAgdGhpcy5faXRlcmF0ZSA9IGl0ZXJhdGU7XG4gICAgdGhpcy5fcmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB0aGlzLl90aW1lU2VsZWN0b3IgPSB0aW1lU2VsZWN0b3I7XG4gIH1cblxuICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICBmb3IgKGxldCBpID0gdGhpcy5faW5pdGlhbFN0YXRlOyBhd2FpdCB0aGlzLl9jb25kaXRpb24oaSk7IGkgPSBhd2FpdCB0aGlzLl9pdGVyYXRlKGkpKSB7XG4gICAgICBhd2FpdCBzbGVlcChhd2FpdCB0aGlzLl90aW1lU2VsZWN0b3IoaSkpO1xuICAgICAgeWllbGQgYXdhaXQgdGhpcy5fcmVzdWx0U2VsZWN0b3IoaSk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRpbWU8VFN0YXRlLCBUUmVzdWx0PihcbiAgICBpbml0aWFsU3RhdGU6IFRTdGF0ZSxcbiAgICBjb25kaXRpb246ICh2YWx1ZTogVFN0YXRlKSA9PiBib29sZWFuIHwgUHJvbWlzZTxib29sZWFuPixcbiAgICBpdGVyYXRlOiAodmFsdWU6IFRTdGF0ZSkgPT4gVFN0YXRlIHwgUHJvbWlzZTxUU3RhdGU+LFxuICAgIHJlc3VsdFNlbGVjdG9yOiAodmFsdWU6IFRTdGF0ZSkgPT4gVFJlc3VsdCB8IFByb21pc2U8VFJlc3VsdD4sXG4gICAgdGltZVNlbGVjdG9yOiAodmFsdWU6IFRTdGF0ZSkgPT4gbnVtYmVyIHwgUHJvbWlzZTxudW1iZXI+KTogQXN5bmNJdGVyYWJsZVg8VFJlc3VsdD4ge1xuICByZXR1cm4gbmV3IEdlbmVyYXRlVGltZUFzeW5jSXRlcmFibGU8VFN0YXRlLCBUUmVzdWx0PihcbiAgICBpbml0aWFsU3RhdGUsXG4gICAgY29uZGl0aW9uLFxuICAgIGl0ZXJhdGUsXG4gICAgcmVzdWx0U2VsZWN0b3IsXG4gICAgdGltZVNlbGVjdG9yKTtcbn1cbiJdfQ==
