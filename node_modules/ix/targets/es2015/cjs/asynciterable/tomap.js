Object.defineProperty(exports, "__esModule", { value: true });
const tslib_1 = require("tslib");
const identity_1 = require("../internal/identity");
function toMap(source, keySelector, elementSelector = identity_1.identityAsync) {
    return tslib_1.__awaiter(this, void 0, void 0, function* () {
        let map = new Map();
        try {
            for (var source_1 = tslib_1.__asyncValues(source), source_1_1; source_1_1 = yield source_1.next(), !source_1_1.done;) {
                let item = yield source_1_1.value;
                let value = yield elementSelector(item);
                let key = yield keySelector(item);
                map.set(key, value);
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (source_1_1 && !source_1_1.done && (_a = source_1.return)) yield _a.call(source_1);
            }
            finally { if (e_1) throw e_1.error; }
        }
        return map;
        var e_1, _a;
    });
}
exports.toMap = toMap;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvdG9tYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxtREFBcUQ7QUFTckQsZUFDSSxNQUE4QixFQUM5QixXQUFvRCxFQUNwRCxrQkFBbUUsd0JBQWE7O1FBRWxGLElBQUksR0FBRyxHQUFHLElBQUksR0FBRyxFQUE0QixDQUFDOztZQUM5QyxHQUFHLENBQUMsQ0FBbUIsSUFBQSxXQUFBLHNCQUFBLE1BQU0sQ0FBQSxZQUFBO2dCQUFsQixJQUFJLElBQUkseUJBQUEsQ0FBQTtnQkFDakIsSUFBSSxLQUFLLEdBQUcsTUFBTSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3hDLElBQUksR0FBRyxHQUFHLE1BQU0sV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNsQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQzthQUNyQjs7Ozs7Ozs7O1FBQ0QsTUFBTSxDQUFDLEdBQUcsQ0FBQzs7SUFDYixDQUFDO0NBQUE7QUFaRCxzQkFZQyIsImZpbGUiOiJhc3luY2l0ZXJhYmxlL3RvbWFwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaWRlbnRpdHlBc3luYyB9IGZyb20gJy4uL2ludGVybmFsL2lkZW50aXR5JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvTWFwPFRTb3VyY2UsIFRLZXk+KFxuICAgIHNvdXJjZTogQXN5bmNJdGVyYWJsZTxUU291cmNlPixcbiAgICBrZXlTZWxlY3RvcjogKGl0ZW06IFRTb3VyY2UpID0+IFRLZXkgfCBQcm9taXNlPFRLZXk+KTogUHJvbWlzZTxNYXA8VEtleSwgVFNvdXJjZT4+O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvTWFwPFRTb3VyY2UsIFRLZXksIFRFbGVtZW50ID0gVFNvdXJjZT4oXG4gICAgc291cmNlOiBBc3luY0l0ZXJhYmxlPFRTb3VyY2U+LFxuICAgIGtleVNlbGVjdG9yOiAoaXRlbTogVFNvdXJjZSkgPT4gVEtleSB8IFByb21pc2U8VEtleT4sXG4gICAgZWxlbWVudFNlbGVjdG9yPzogKGl0ZW06IFRTb3VyY2UpID0+IFRFbGVtZW50IHwgUHJvbWlzZTxURWxlbWVudD4pOiBQcm9taXNlPE1hcDxUS2V5LCBURWxlbWVudD4+O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvTWFwPFRTb3VyY2UsIFRLZXksIFRFbGVtZW50ID0gVFNvdXJjZT4oXG4gICAgc291cmNlOiBBc3luY0l0ZXJhYmxlPFRTb3VyY2U+LFxuICAgIGtleVNlbGVjdG9yOiAoaXRlbTogVFNvdXJjZSkgPT4gVEtleSB8IFByb21pc2U8VEtleT4sXG4gICAgZWxlbWVudFNlbGVjdG9yOiAoaXRlbTogVFNvdXJjZSkgPT4gVEVsZW1lbnQgfCBQcm9taXNlPFRFbGVtZW50PiA9IGlkZW50aXR5QXN5bmMpOlxuICAgIFByb21pc2U8TWFwPFRLZXksIFRFbGVtZW50IHwgVFNvdXJjZT4+IHtcbiAgbGV0IG1hcCA9IG5ldyBNYXA8VEtleSwgVEVsZW1lbnQgfCBUU291cmNlPigpO1xuICBmb3IgYXdhaXQgKGxldCBpdGVtIG9mIHNvdXJjZSkge1xuICAgIGxldCB2YWx1ZSA9IGF3YWl0IGVsZW1lbnRTZWxlY3RvcihpdGVtKTtcbiAgICBsZXQga2V5ID0gYXdhaXQga2V5U2VsZWN0b3IoaXRlbSk7XG4gICAgbWFwLnNldChrZXksIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gbWFwO1xufVxuIl19
