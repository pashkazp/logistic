Object.defineProperty(exports, "__esModule", { value: true });
const iterable_1 = require("../iterable");
class DeferIterable extends iterable_1.IterableX {
    constructor(fn) {
        super();
        this._fn = fn;
    }
    *[Symbol.iterator]() {
        for (let item of this._fn()) {
            yield item;
        }
    }
}
/**
 * Creates an enumerable sequence based on an iterable factory function.
 * @param {function(): Iterable<T>} factory Iterable factory function.
 * @return {Iterable<T>} Sequence that will invoke the iterable factory upon a call to [Symbol.iterator]().
 */
function defer(factory) {
    return new DeferIterable(factory);
}
exports.defer = defer;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZXJhYmxlL2RlZmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSwwQ0FBd0M7QUFFeEMsbUJBQXVCLFNBQVEsb0JBQVk7SUFHekMsWUFBWSxFQUFxQjtRQUMvQixLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNoQixHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzVCLE1BQU0sSUFBSSxDQUFDO1FBQ2IsQ0FBQztJQUNILENBQUM7Q0FDRjtBQUVEOzs7O0dBSUc7QUFDSCxlQUErQixPQUFnQztJQUM3RCxNQUFNLENBQUMsSUFBSSxhQUFhLENBQVUsT0FBTyxDQUFDLENBQUM7QUFDN0MsQ0FBQztBQUZELHNCQUVDIiwiZmlsZSI6Iml0ZXJhYmxlL2RlZmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSXRlcmFibGVYIH0gZnJvbSAnLi4vaXRlcmFibGUnO1xuXG5jbGFzcyBEZWZlckl0ZXJhYmxlPFQ+IGV4dGVuZHMgSXRlcmFibGVYPFQ+IHtcbiAgcHJpdmF0ZSBfZm46ICgpID0+IEl0ZXJhYmxlPFQ+O1xuXG4gIGNvbnN0cnVjdG9yKGZuOiAoKSA9PiBJdGVyYWJsZTxUPikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZm4gPSBmbjtcbiAgfVxuXG4gICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuX2ZuKCkpIHtcbiAgICAgIHlpZWxkIGl0ZW07XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBlbnVtZXJhYmxlIHNlcXVlbmNlIGJhc2VkIG9uIGFuIGl0ZXJhYmxlIGZhY3RvcnkgZnVuY3Rpb24uXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCk6IEl0ZXJhYmxlPFQ+fSBmYWN0b3J5IEl0ZXJhYmxlIGZhY3RvcnkgZnVuY3Rpb24uXG4gKiBAcmV0dXJuIHtJdGVyYWJsZTxUPn0gU2VxdWVuY2UgdGhhdCB3aWxsIGludm9rZSB0aGUgaXRlcmFibGUgZmFjdG9yeSB1cG9uIGEgY2FsbCB0byBbU3ltYm9sLml0ZXJhdG9yXSgpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmZXI8VFNvdXJjZT4oZmFjdG9yeTogKCkgPT4gSXRlcmFibGU8VFNvdXJjZT4pOiBJdGVyYWJsZVg8VFNvdXJjZT4ge1xuICByZXR1cm4gbmV3IERlZmVySXRlcmFibGU8VFNvdXJjZT4oZmFjdG9yeSk7XG59XG4iXX0=
