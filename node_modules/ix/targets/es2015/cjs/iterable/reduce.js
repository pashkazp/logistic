Object.defineProperty(exports, "__esModule", { value: true });
function reduce(source, fn, seed) {
    const hasSeed = arguments.length === 3;
    let i = 0, hasValue = false;
    for (let item of source) {
        if (hasValue || (hasValue = hasSeed)) {
            seed = fn(seed, item, i++);
        }
        else {
            seed = item;
            hasValue = true;
            i++;
        }
    }
    if (hasSeed && !hasValue) {
        return seed;
    }
    if (!hasValue) {
        throw new Error('Sequence contains no elements');
    }
    return seed;
}
exports.reduce = reduce;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZXJhYmxlL3JlZHVjZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBSUEsZ0JBQ00sTUFBbUIsRUFDbkIsRUFBc0MsRUFDdEMsSUFBWTtJQUNoQixNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsTUFBTSxLQUFLLENBQUMsQ0FBQztJQUN2QyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsUUFBUSxHQUFHLEtBQUssQ0FBQztJQUM1QixHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLEVBQUUsQ0FBQyxDQUFDLFFBQVEsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxHQUFHLEVBQUUsQ0FBSSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDaEMsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ04sSUFBSSxHQUFHLElBQUksQ0FBQztZQUNaLFFBQVEsR0FBRyxJQUFJLENBQUM7WUFDaEIsQ0FBQyxFQUFFLENBQUM7UUFDTixDQUFDO0lBQ0gsQ0FBQztJQUVELEVBQUUsQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDekIsTUFBTSxDQUFDLElBQUssQ0FBQztJQUNmLENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7UUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLCtCQUErQixDQUFDLENBQUM7SUFDbkQsQ0FBQztJQUVELE1BQU0sQ0FBQyxJQUFLLENBQUM7QUFDZixDQUFDO0FBekJELHdCQXlCQyIsImZpbGUiOiJpdGVyYWJsZS9yZWR1Y2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcmVkdWNlPFQ+KHNvdXJjZTogSXRlcmFibGU8VD4sIGFjY3VtdWxhdG9yOiAoYWNjOiBULCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gVCwgc2VlZD86IFQpOiBUO1xuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZTxUPihzb3VyY2U6IEl0ZXJhYmxlPFQ+LCBhY2N1bXVsYXRvcjogKGFjYzogVFtdLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gVFtdLCBzZWVkPzogVFtdKTogVFtdO1xuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZTxULCBSPihzb3VyY2U6IEl0ZXJhYmxlPFQ+LCBhY2N1bXVsYXRvcjogKGFjYzogUiwgdmFsdWU6IFQsIGluZGV4OiBudW1iZXIpID0+IFIsIHNlZWQ/OiBSKTogUjtcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZTxULCBSPihcbiAgICAgIHNvdXJjZTogSXRlcmFibGU8VD4sXG4gICAgICBmbjogKGFjYzogUiwgeDogVCwgaW5kZXg6IG51bWJlcikgPT4gUixcbiAgICAgIHNlZWQ/OiBUIHwgUik6IFQgfCBSIHtcbiAgY29uc3QgaGFzU2VlZCA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDM7XG4gIGxldCBpID0gMCwgaGFzVmFsdWUgPSBmYWxzZTtcbiAgZm9yIChsZXQgaXRlbSBvZiBzb3VyY2UpIHtcbiAgICBpZiAoaGFzVmFsdWUgfHwgKGhhc1ZhbHVlID0gaGFzU2VlZCkpIHtcbiAgICAgIHNlZWQgPSBmbig8Uj5zZWVkLCBpdGVtLCBpKyspO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWVkID0gaXRlbTtcbiAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cblxuICBpZiAoaGFzU2VlZCAmJiAhaGFzVmFsdWUpIHtcbiAgICByZXR1cm4gc2VlZCE7XG4gIH1cblxuICBpZiAoIWhhc1ZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZXF1ZW5jZSBjb250YWlucyBubyBlbGVtZW50cycpO1xuICB9XG5cbiAgcmV0dXJuIHNlZWQhO1xufVxuIl19
