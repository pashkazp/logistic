Object.defineProperty(exports, "__esModule", { value: true });
const iterable_1 = require("../iterable");
class DefaultIfEmptyIterable extends iterable_1.IterableX {
    constructor(source, defaultValue) {
        super();
        this._source = source;
        this._defaultValue = defaultValue;
    }
    *[Symbol.iterator]() {
        let state = 1;
        for (let item of this._source) {
            state = 2;
            yield item;
        }
        if (state === 1) {
            yield this._defaultValue;
        }
    }
}
/**
 * Returns the elements of the specified sequence or the type parameter's default value in a singleton collection if the sequence is empty.
 * @param {Iterable<T>} source The sequence to return a default value for if it is empty.
 * @param {T} defaultValue The default value if the sequence is empty.
 * @return An that contains the default value if source is empty; otherwise, source.
 */
function defaultIfEmpty(source, defaultValue) {
    return new DefaultIfEmptyIterable(source, defaultValue);
}
exports.defaultIfEmpty = defaultIfEmpty;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZXJhYmxlL2RlZmF1bHRpZmVtcHR5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSwwQ0FBd0M7QUFFeEMsNEJBQXNDLFNBQVEsb0JBQWtCO0lBSTlELFlBQVksTUFBeUIsRUFBRSxZQUFxQjtRQUMxRCxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxhQUFhLEdBQUcsWUFBWSxDQUFDO0lBQ3BDLENBQUM7SUFFRCxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztRQUNoQixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7UUFDZCxHQUFHLENBQUMsQ0FBQyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUM5QixLQUFLLEdBQUcsQ0FBQyxDQUFDO1lBQ1YsTUFBTSxJQUFJLENBQUM7UUFDYixDQUFDO1FBQ0QsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEIsTUFBTSxJQUFJLENBQUMsYUFBYSxDQUFDO1FBQzNCLENBQUM7SUFDSCxDQUFDO0NBQ0Y7QUFFRDs7Ozs7R0FLRztBQUNILHdCQUFrQyxNQUFtQixFQUFFLFlBQWU7SUFDcEUsTUFBTSxDQUFDLElBQUksc0JBQXNCLENBQUksTUFBTSxFQUFFLFlBQVksQ0FBQyxDQUFDO0FBQzdELENBQUM7QUFGRCx3Q0FFQyIsImZpbGUiOiJpdGVyYWJsZS9kZWZhdWx0aWZlbXB0eS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEl0ZXJhYmxlWCB9IGZyb20gJy4uL2l0ZXJhYmxlJztcblxuY2xhc3MgRGVmYXVsdElmRW1wdHlJdGVyYWJsZTxUU291cmNlPiBleHRlbmRzIEl0ZXJhYmxlWDxUU291cmNlPiB7XG4gIHByaXZhdGUgX3NvdXJjZTogSXRlcmFibGU8VFNvdXJjZT47XG4gIHByaXZhdGUgX2RlZmF1bHRWYWx1ZTogVFNvdXJjZTtcblxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6IEl0ZXJhYmxlPFRTb3VyY2U+LCBkZWZhdWx0VmFsdWU6IFRTb3VyY2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gIH1cblxuICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgbGV0IHN0YXRlID0gMTtcbiAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMuX3NvdXJjZSkge1xuICAgICAgc3RhdGUgPSAyO1xuICAgICAgeWllbGQgaXRlbTtcbiAgICB9XG4gICAgaWYgKHN0YXRlID09PSAxKSB7XG4gICAgICB5aWVsZCB0aGlzLl9kZWZhdWx0VmFsdWU7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZWxlbWVudHMgb2YgdGhlIHNwZWNpZmllZCBzZXF1ZW5jZSBvciB0aGUgdHlwZSBwYXJhbWV0ZXIncyBkZWZhdWx0IHZhbHVlIGluIGEgc2luZ2xldG9uIGNvbGxlY3Rpb24gaWYgdGhlIHNlcXVlbmNlIGlzIGVtcHR5LlxuICogQHBhcmFtIHtJdGVyYWJsZTxUPn0gc291cmNlIFRoZSBzZXF1ZW5jZSB0byByZXR1cm4gYSBkZWZhdWx0IHZhbHVlIGZvciBpZiBpdCBpcyBlbXB0eS5cbiAqIEBwYXJhbSB7VH0gZGVmYXVsdFZhbHVlIFRoZSBkZWZhdWx0IHZhbHVlIGlmIHRoZSBzZXF1ZW5jZSBpcyBlbXB0eS5cbiAqIEByZXR1cm4gQW4gdGhhdCBjb250YWlucyB0aGUgZGVmYXVsdCB2YWx1ZSBpZiBzb3VyY2UgaXMgZW1wdHk7IG90aGVyd2lzZSwgc291cmNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdElmRW1wdHk8VD4oc291cmNlOiBJdGVyYWJsZTxUPiwgZGVmYXVsdFZhbHVlOiBUKTogSXRlcmFibGVYPFQ+IHtcbiAgcmV0dXJuIG5ldyBEZWZhdWx0SWZFbXB0eUl0ZXJhYmxlPFQ+KHNvdXJjZSwgZGVmYXVsdFZhbHVlKTtcbn1cbiJdfQ==
