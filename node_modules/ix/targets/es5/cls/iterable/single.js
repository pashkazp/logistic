goog.module('targets.es5.cls.iterable.single'); exports = {}; var module = {id: 'targets/es5/cls/iterable/single.js'};/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @template T
 * @param {!Iterable<T>} source
 * @param {function(T): boolean=} fn
 * @return {T}
 */
function single(source, fn) {
    if (fn === void 0) { fn = function () { return true; }; }
    var /** @type {T} */ result;
    var /** @type {boolean} */ hasResult = false;
    try {
        for (var source_1 = __values(source), source_1_1 = source_1.next(); !source_1_1.done; source_1_1 = source_1.next()) {
            var item = source_1_1.value;
            if (hasResult && fn(item)) {
                throw new Error('More than one element was found');
            }
            if (fn(item)) {
                result = item;
                hasResult = true;
            }
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (source_1_1 && !source_1_1.done && (_a = source_1.return)) _a.call(source_1);
        }
        finally { if (e_1) throw e_1.error; }
    }
    return result;
    var e_1, _a;
}
exports.single = single;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9pdGVyYWJsZS9zaW5nbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHOztBQUdIOzs7OztHQUtHO0FBWEgsZ0JBQTBCLE1BQW1CLEVBQUMsRUFBdUM7SUFBdkMsbUJBQUEsRUFBQSxtQkFBa0MsT0FBQSxJQUFLLEVBQUwsQ0FBSztJQWFuRixJQUFJLGdCQVpELENBQUEsTUFBc0IsQ0FBQztJQWExQixJQUFJLHNCQVpELENBQUEsU0FBVSxHQUFFLEtBQU0sQ0FBQzs7UUFhdEIsR0FBRyxDQUFDLENBWlksSUFBQSxXQUFBLFNBQUEsTUFBTyxDQUFBLDhCQUFBO1lBQWxCLElBQUcsSUFBSyxtQkFBQTtZQWFYLEVBQUUsQ0FBQyxDQVpDLFNBQVMsSUFBRyxFQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQSxDQUFFO2dCQWExQixNQVpLLElBQUksS0FBTSxDQUFDLGlDQUFpQyxDQUFDLENBQUM7WUFhckQsQ0FaQztZQWFELEVBQUUsQ0FBQyxDQVpDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBLENBQUU7Z0JBYWIsTUFaTSxHQUFFLElBQUssQ0FBQztnQkFhZCxTQVpTLEdBQUUsSUFBSyxDQUFDO1lBYW5CLENBWkM7U0FDRjs7Ozs7Ozs7O0lBY0QsTUFaTSxDQUFBLE1BQU8sQ0FBQzs7QUFhaEIsQ0FaQztBQWRELHdCQWNDIiwiZmlsZSI6InNpbmdsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHshSXRlcmFibGU8VD59IHNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbihUKTogYm9vbGVhbj19IGZuXG4gKiBAcmV0dXJuIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2luZ2xlPFQ+KHNvdXJjZTogSXRlcmFibGU8VD4sIGZuOiAodmFsdWU6IFQpID0+IGJvb2xlYW4gPSAoKSA9PiB0cnVlKTogVCB8IHVuZGVmaW5lZCB7XG4gIGxldCAvKiogQHR5cGUge1R9ICovIHJlc3VsdDogVCB8IHVuZGVmaW5lZDtcbiAgbGV0IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gaGFzUmVzdWx0ID0gZmFsc2U7XG4gIGZvciAobGV0IC8qKiBAdHlwZSB7VH0gKi8gaXRlbSBvZiBzb3VyY2UpIHtcbiAgICBpZiAoaGFzUmVzdWx0ICYmIGZuKGl0ZW0pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vcmUgdGhhbiBvbmUgZWxlbWVudCB3YXMgZm91bmQnKTtcbiAgICB9XG4gICAgaWYgKGZuKGl0ZW0pKSB7XG4gICAgICByZXN1bHQgPSBpdGVtO1xuICAgICAgaGFzUmVzdWx0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIl19