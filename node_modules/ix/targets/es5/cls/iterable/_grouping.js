goog.module('targets.es5.cls.iterable._grouping'); exports = {}; var module = {id: 'targets/es5/cls/iterable/_grouping.js'};/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @ignore
 * @template TSource, TKey, TValue
 * @param {!Iterable<TSource>} source
 * @param {function(TSource): TKey} keySelector
 * @param {function(TSource): TValue} elementSelector
 * @return {!Map<TKey, !Array<TValue>>}
 */
function createGrouping(source, keySelector, elementSelector) {
    var /** @type {!Map<TKey, !Array<TValue>>} */ map = new Map();
    try {
        for (var source_1 = __values(source), source_1_1 = source_1.next(); !source_1_1.done; source_1_1 = source_1.next()) {
            var item = source_1_1.value;
            var /** @type {TKey} */ key = keySelector(item);
            var /** @type {!Array<TValue>} */ grouping = map.get(key);
            if (!map.has(key)) {
                grouping = [];
                map.set(key, grouping);
            } /** @type {!Array<TValue>} */
            ((grouping)).push(elementSelector(item));
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (source_1_1 && !source_1_1.done && (_a = source_1.return)) _a.call(source_1);
        }
        finally { if (e_1) throw e_1.error; }
    }
    return map;
    var e_1, _a;
}
exports.createGrouping = createGrouping;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9pdGVyYWJsZS9fZ3JvdXBpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHOztBQUdIOzs7Ozs7O0dBT0c7QUFWSCx3QkFZSSxNQVh5QixFQVl6QixXQVhxQyxFQVlyQyxlQVgyQztJQVk3QyxJQUFJLHlDQVhELENBQUEsR0FBSSxHQUFFLElBQUksR0FBSSxFQUFrQixDQUFDOztRQVlwQyxHQUFHLENBQUMsQ0FYWSxJQUFBLFdBQUEsU0FBQSxNQUFPLENBQUEsOEJBQUE7WUFBbEIsSUFBRyxJQUFLLG1CQUFBO1lBWVgsSUFBSSxtQkFYRCxDQUFBLEdBQUksR0FBRSxXQUFZLENBQUMsSUFBSSxDQUFDLENBQUM7WUFZNUIsSUFBSSw2QkFYRCxDQUFBLFFBQVMsR0FBRSxHQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBWTVCLEVBQUUsQ0FBQyxDQVhDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBLENBQUU7Z0JBWWxCLFFBWFEsR0FBRSxFQUFHLENBQUM7Z0JBWWQsR0FYRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUMsUUFBUyxDQUFDLENBQUM7WUFZekIsQ0FBQyxDQUFDLDZCQUE2QjtZQUFBLENBQUMsQ0FDaEMsUUFBUSxDQUFDLENBWEEsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDdkM7Ozs7Ozs7OztJQWFELE1BWE0sQ0FBQSxHQUFJLENBQUM7O0FBWWIsQ0FYQztBQWhCRCx3Q0FnQkMiLCJmaWxlIjoiX2dyb3VwaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGVvdmVydmlldyBhZGRlZCBieSB0c2lja2xlXG4gKiBAc3VwcHJlc3Mge2NoZWNrVHlwZXN9IGNoZWNrZWQgYnkgdHNjXG4gKi9cblxuXG4vKipcbiAqIEBpZ25vcmVcbiAqIEB0ZW1wbGF0ZSBUU291cmNlLCBUS2V5LCBUVmFsdWVcbiAqIEBwYXJhbSB7IUl0ZXJhYmxlPFRTb3VyY2U+fSBzb3VyY2VcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVFNvdXJjZSk6IFRLZXl9IGtleVNlbGVjdG9yXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKFRTb3VyY2UpOiBUVmFsdWV9IGVsZW1lbnRTZWxlY3RvclxuICogQHJldHVybiB7IU1hcDxUS2V5LCAhQXJyYXk8VFZhbHVlPj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHcm91cGluZzxUU291cmNlLCBUS2V5LCBUVmFsdWU+KFxuICAgIHNvdXJjZTogSXRlcmFibGU8VFNvdXJjZT4sXG4gICAga2V5U2VsZWN0b3I6ICh2YWx1ZTogVFNvdXJjZSkgPT4gVEtleSxcbiAgICBlbGVtZW50U2VsZWN0b3I6ICh2YWx1ZTogVFNvdXJjZSkgPT4gVFZhbHVlKTogTWFwPFRLZXksIFRWYWx1ZVtdPiB7XG4gIGxldCAvKiogQHR5cGUgeyFNYXA8VEtleSwgIUFycmF5PFRWYWx1ZT4+fSAqLyBtYXAgPSBuZXcgTWFwPFRLZXksIFRWYWx1ZVtdPigpO1xuICBmb3IgKGxldCAvKiogQHR5cGUge1RTb3VyY2V9ICovIGl0ZW0gb2Ygc291cmNlKSB7XG4gICAgbGV0IC8qKiBAdHlwZSB7VEtleX0gKi8ga2V5ID0ga2V5U2VsZWN0b3IoaXRlbSk7XG4gICAgbGV0IC8qKiBAdHlwZSB7IUFycmF5PFRWYWx1ZT59ICovIGdyb3VwaW5nID0gbWFwLmdldChrZXkpO1xuICAgIGlmICghbWFwLmhhcyhrZXkpKSB7XG4gICAgICBncm91cGluZyA9IFtdO1xuICAgICAgbWFwLnNldChrZXksIGdyb3VwaW5nKTtcbiAgICB9IC8qKiBAdHlwZSB7IUFycmF5PFRWYWx1ZT59ICovKChcbiAgICBncm91cGluZykpLnB1c2goZWxlbWVudFNlbGVjdG9yKGl0ZW0pKTtcbiAgfVxuXG4gIHJldHVybiBtYXA7XG59XG4iXX0=