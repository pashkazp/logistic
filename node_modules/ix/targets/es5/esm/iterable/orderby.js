import * as tslib_1 from "tslib";
import { IterableX } from '../iterable';
import { sorter as defaultSorter } from '../internal/sorter';
var OrderedIterableBaseX = (function (_super) {
    tslib_1.__extends(OrderedIterableBaseX, _super);
    function OrderedIterableBaseX(source) {
        var _this = _super.call(this) || this;
        _this._source = source;
        return _this;
    }
    OrderedIterableBaseX.prototype[Symbol.iterator] = function () {
        var array, len, indices, i, len_1, indices_1, indices_1_1, index, e_1_1, e_1, _a;
        return tslib_1.__generator(this, function (_b) {
            switch (_b.label) {
                case 0:
                    array = Array.from(this._source);
                    len = array.length;
                    indices = new Array(len);
                    for (i = 0, len_1 = array.length; i < len_1; i++) {
                        indices[i] = i;
                    }
                    indices.sort(this._getSorter(array));
                    _b.label = 1;
                case 1:
                    _b.trys.push([1, 6, 7, 8]);
                    indices_1 = tslib_1.__values(indices), indices_1_1 = indices_1.next();
                    _b.label = 2;
                case 2:
                    if (!!indices_1_1.done) return [3 /*break*/, 5];
                    index = indices_1_1.value;
                    return [4 /*yield*/, array[index]];
                case 3:
                    _b.sent();
                    _b.label = 4;
                case 4:
                    indices_1_1 = indices_1.next();
                    return [3 /*break*/, 2];
                case 5: return [3 /*break*/, 8];
                case 6:
                    e_1_1 = _b.sent();
                    e_1 = { error: e_1_1 };
                    return [3 /*break*/, 8];
                case 7:
                    try {
                        if (indices_1_1 && !indices_1_1.done && (_a = indices_1.return)) _a.call(indices_1);
                    }
                    finally { if (e_1) throw e_1.error; }
                    return [7 /*endfinally*/];
                case 8: return [2 /*return*/];
            }
        });
    };
    OrderedIterableBaseX.prototype.thenBy = function (keySelector, comparer) {
        if (comparer === void 0) { comparer = defaultSorter; }
        /* tslint:disable-next-line: no-use-before-declare */
        return new OrderedIterableX(this._source, keySelector, comparer, false, this);
    };
    OrderedIterableBaseX.prototype.thenByDescending = function (keySelector, comparer) {
        if (comparer === void 0) { comparer = defaultSorter; }
        /* tslint:disable-next-line: no-use-before-declare */
        return new OrderedIterableX(this._source, keySelector, comparer, true, this);
    };
    return OrderedIterableBaseX;
}(IterableX));
export { OrderedIterableBaseX };
var OrderedIterableX = (function (_super) {
    tslib_1.__extends(OrderedIterableX, _super);
    function OrderedIterableX(source, keySelector, comparer, descending, parent) {
        var _this = _super.call(this, source) || this;
        _this._keySelector = keySelector;
        _this._comparer = comparer;
        _this._descending = descending;
        _this._parent = parent;
        return _this;
    }
    OrderedIterableX.prototype._getSorter = function (elements, next) {
        var keys = elements.map(this._keySelector);
        var comparer = this._comparer;
        var parent = this._parent;
        var descending = this._descending;
        var sorter = function (x, y) {
            var result = comparer(keys[x], keys[y]);
            if (result === 0) {
                return next ? next(x, y) : x - y;
            }
            return descending ? -result : result;
        };
        return parent ? parent._getSorter(elements, sorter) : sorter;
    };
    return OrderedIterableX;
}(OrderedIterableBaseX));
export { OrderedIterableX };
export function orderBy(source, keySelector, comparer) {
    if (comparer === void 0) { comparer = defaultSorter; }
    return new OrderedIterableX(source, keySelector, comparer, false);
}
export function orderByDescending(source, keySelector, comparer) {
    if (comparer === void 0) { comparer = defaultSorter; }
    return new OrderedIterableX(source, keySelector, comparer, true);
}
export function thenBy(source, keySelector, comparer) {
    if (comparer === void 0) { comparer = defaultSorter; }
    return new OrderedIterableX(source._source, keySelector, comparer, false, source);
}
export function thenByDescending(source, keySelector, comparer) {
    if (comparer === void 0) { comparer = defaultSorter; }
    return new OrderedIterableX(source._source, keySelector, comparer, true, source);
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,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bkcsQ0FBQztBQUVELE1BQU0sMkJBQ0EsTUFBcUMsRUFDckMsV0FBb0MsRUFDcEMsUUFBMEQ7SUFBMUQseUJBQUEsRUFBQSx3QkFBMEQ7SUFDOUQsTUFBTSxDQUFDLElBQUksZ0JBQWdCLENBQWdCLE1BQU0sQ0FBQyxPQUFPLEVBQUUsV0FBVyxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDbEcsQ0FBQyIsImZpbGUiOiJpdGVyYWJsZS9vcmRlcmJ5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSXRlcmFibGVYIH0gZnJvbSAnLi4vaXRlcmFibGUnO1xuaW1wb3J0IHsgc29ydGVyIGFzIGRlZmF1bHRTb3J0ZXIgfSBmcm9tICcuLi9pbnRlcm5hbC9zb3J0ZXInO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgT3JkZXJlZEl0ZXJhYmxlQmFzZVg8VFNvdXJjZT4gZXh0ZW5kcyBJdGVyYWJsZVg8VFNvdXJjZT4ge1xuICBfc291cmNlOiBJdGVyYWJsZTxUU291cmNlPjtcblxuICBjb25zdHJ1Y3Rvcihzb3VyY2U6IEl0ZXJhYmxlPFRTb3VyY2U+KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9zb3VyY2UgPSBzb3VyY2U7XG4gIH1cblxuICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgY29uc3QgYXJyYXkgPSBBcnJheS5mcm9tPFRTb3VyY2U+KHRoaXMuX3NvdXJjZSk7XG4gICAgY29uc3QgbGVuID0gYXJyYXkubGVuZ3RoO1xuICAgIGNvbnN0IGluZGljZXMgPSBuZXcgQXJyYXk8bnVtYmVyPihsZW4pO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaW5kaWNlc1tpXSA9IGk7XG4gICAgfVxuXG4gICAgaW5kaWNlcy5zb3J0KHRoaXMuX2dldFNvcnRlcihhcnJheSkpO1xuICAgIGZvciAoY29uc3QgaW5kZXggb2YgaW5kaWNlcykge1xuICAgICAgeWllbGQgYXJyYXlbaW5kZXhdO1xuICAgIH1cbiAgfVxuXG4gIHRoZW5CeTxUS2V5PihcbiAgICAgIGtleVNlbGVjdG9yOiAoaXRlbTogVFNvdXJjZSkgPT4gVEtleSxcbiAgICAgIGNvbXBhcmVyOiAoZnN0OiBUS2V5LCBzbmQ6IFRLZXkpID0+IG51bWJlciA9IGRlZmF1bHRTb3J0ZXIpOiBPcmRlcmVkSXRlcmFibGVCYXNlWDxUU291cmNlPiB7XG4gICAgLyogdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOiBuby11c2UtYmVmb3JlLWRlY2xhcmUgKi9cbiAgICByZXR1cm4gbmV3IE9yZGVyZWRJdGVyYWJsZVg8VEtleSwgVFNvdXJjZT4odGhpcy5fc291cmNlLCBrZXlTZWxlY3RvciwgY29tcGFyZXIsIGZhbHNlLCB0aGlzKTtcbiAgfVxuXG4gIHRoZW5CeURlc2NlbmRpbmc8VEtleT4oXG4gICAgICBrZXlTZWxlY3RvcjogKGl0ZW06IFRTb3VyY2UpID0+IFRLZXksXG4gICAgICBjb21wYXJlcjogKGZzdDogVEtleSwgc25kOiBUS2V5KSA9PiBudW1iZXIgPSBkZWZhdWx0U29ydGVyKTogT3JkZXJlZEl0ZXJhYmxlQmFzZVg8VFNvdXJjZT4ge1xuICAgIC8qIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tdXNlLWJlZm9yZS1kZWNsYXJlICovXG4gICAgcmV0dXJuIG5ldyBPcmRlcmVkSXRlcmFibGVYPFRLZXksIFRTb3VyY2U+KHRoaXMuX3NvdXJjZSwga2V5U2VsZWN0b3IsIGNvbXBhcmVyLCB0cnVlLCB0aGlzKTtcbiAgfVxuXG4gIGFic3RyYWN0IF9nZXRTb3J0ZXIoXG4gICAgZWxlbWVudHM6IFRTb3VyY2VbXSxcbiAgICBuZXh0PzogKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiBudW1iZXIpOiAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIE9yZGVyZWRJdGVyYWJsZVg8VEtleSwgVFNvdXJjZT4gZXh0ZW5kcyBPcmRlcmVkSXRlcmFibGVCYXNlWDxUU291cmNlPiB7XG4gIHByaXZhdGUgX2tleVNlbGVjdG9yOiAoaXRlbTogVFNvdXJjZSkgPT4gVEtleTtcbiAgcHJpdmF0ZSBfY29tcGFyZXI6IChmc3Q6IFRLZXksIHNuZDogVEtleSkgPT4gbnVtYmVyO1xuICBwcml2YXRlIF9kZXNjZW5kaW5nOiBib29sZWFuO1xuICBwcml2YXRlIF9wYXJlbnQ/OiBPcmRlcmVkSXRlcmFibGVCYXNlWDxUU291cmNlPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIHNvdXJjZTogSXRlcmFibGU8VFNvdXJjZT4sXG4gICAgICBrZXlTZWxlY3RvcjogKGl0ZW06IFRTb3VyY2UpID0+IFRLZXksXG4gICAgICBjb21wYXJlcjogKGZzdDogVEtleSwgc25kOiBUS2V5KSA9PiBudW1iZXIsXG4gICAgICBkZXNjZW5kaW5nOiBib29sZWFuLFxuICAgICAgcGFyZW50PzogT3JkZXJlZEl0ZXJhYmxlQmFzZVg8VFNvdXJjZT4pIHtcbiAgICBzdXBlcihzb3VyY2UpO1xuICAgIHRoaXMuX2tleVNlbGVjdG9yID0ga2V5U2VsZWN0b3I7XG4gICAgdGhpcy5fY29tcGFyZXIgPSBjb21wYXJlcjtcbiAgICB0aGlzLl9kZXNjZW5kaW5nID0gZGVzY2VuZGluZztcbiAgICB0aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gIH1cblxuICBfZ2V0U29ydGVyKFxuICAgICAgZWxlbWVudHM6IFRTb3VyY2VbXSxcbiAgICAgIG5leHQ/OiAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IG51bWJlcik6ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICBjb25zdCBrZXlzID0gZWxlbWVudHMubWFwKHRoaXMuX2tleVNlbGVjdG9yKTtcbiAgICBjb25zdCBjb21wYXJlciA9IHRoaXMuX2NvbXBhcmVyO1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuX3BhcmVudDtcbiAgICBjb25zdCBkZXNjZW5kaW5nID0gdGhpcy5fZGVzY2VuZGluZztcbiAgICBjb25zdCBzb3J0ZXIgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBudW1iZXIgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY29tcGFyZXIoa2V5c1t4XSwga2V5c1t5XSk7XG4gICAgICBpZiAocmVzdWx0ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuZXh0ID8gbmV4dCh4LCB5KSA6IHggLSB5O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVzY2VuZGluZyA/IC1yZXN1bHQgOiByZXN1bHQ7XG4gICAgfTtcblxuICAgIHJldHVybiBwYXJlbnQgPyBwYXJlbnQuX2dldFNvcnRlcihlbGVtZW50cywgc29ydGVyKSA6IHNvcnRlcjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJCeTxUS2V5LCBUU291cmNlPihcbiAgICAgIHNvdXJjZTogSXRlcmFibGU8VFNvdXJjZT4sXG4gICAgICBrZXlTZWxlY3RvcjogKGl0ZW06IFRTb3VyY2UpID0+IFRLZXksXG4gICAgICBjb21wYXJlcjogKGZzdDogVEtleSwgc25kOiBUS2V5KSA9PiBudW1iZXIgPSBkZWZhdWx0U29ydGVyKTogT3JkZXJlZEl0ZXJhYmxlWDxUS2V5LCBUU291cmNlPiB7XG4gIHJldHVybiBuZXcgT3JkZXJlZEl0ZXJhYmxlWDxUS2V5LCBUU291cmNlPihzb3VyY2UsIGtleVNlbGVjdG9yLCBjb21wYXJlciwgZmFsc2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3JkZXJCeURlc2NlbmRpbmc8VEtleSwgVFNvdXJjZT4oXG4gICAgICBzb3VyY2U6IEl0ZXJhYmxlPFRTb3VyY2U+LFxuICAgICAga2V5U2VsZWN0b3I6IChpdGVtOiBUU291cmNlKSA9PiBUS2V5LFxuICAgICAgY29tcGFyZXI6IChmc3Q6IFRLZXksIHNuZDogVEtleSkgPT4gbnVtYmVyID0gZGVmYXVsdFNvcnRlcik6IE9yZGVyZWRJdGVyYWJsZVg8VEtleSwgVFNvdXJjZT4ge1xuICByZXR1cm4gbmV3IE9yZGVyZWRJdGVyYWJsZVg8VEtleSwgVFNvdXJjZT4oc291cmNlLCBrZXlTZWxlY3RvciwgY29tcGFyZXIsIHRydWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGhlbkJ5PFRLZXksIFRTb3VyY2U+KFxuICAgICAgc291cmNlOiBPcmRlcmVkSXRlcmFibGVCYXNlWDxUU291cmNlPixcbiAgICAgIGtleVNlbGVjdG9yOiAoaXRlbTogVFNvdXJjZSkgPT4gVEtleSxcbiAgICAgIGNvbXBhcmVyOiAoZnN0OiBUS2V5LCBzbmQ6IFRLZXkpID0+IG51bWJlciA9IGRlZmF1bHRTb3J0ZXIpOiBPcmRlcmVkSXRlcmFibGVYPFRLZXksIFRTb3VyY2U+IHtcbiAgcmV0dXJuIG5ldyBPcmRlcmVkSXRlcmFibGVYPFRLZXksIFRTb3VyY2U+KHNvdXJjZS5fc291cmNlLCBrZXlTZWxlY3RvciwgY29tcGFyZXIsIGZhbHNlLCBzb3VyY2UpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdGhlbkJ5RGVzY2VuZGluZzxUS2V5LCBUU291cmNlPihcbiAgICAgIHNvdXJjZTogT3JkZXJlZEl0ZXJhYmxlQmFzZVg8VFNvdXJjZT4sXG4gICAgICBrZXlTZWxlY3RvcjogKGl0ZW06IFRTb3VyY2UpID0+IFRLZXksXG4gICAgICBjb21wYXJlcjogKGZzdDogVEtleSwgc25kOiBUS2V5KSA9PiBudW1iZXIgPSBkZWZhdWx0U29ydGVyKTogT3JkZXJlZEl0ZXJhYmxlWDxUS2V5LCBUU291cmNlPiB7XG4gIHJldHVybiBuZXcgT3JkZXJlZEl0ZXJhYmxlWDxUS2V5LCBUU291cmNlPihzb3VyY2UuX3NvdXJjZSwga2V5U2VsZWN0b3IsIGNvbXBhcmVyLCB0cnVlLCBzb3VyY2UpO1xufVxuIl19
