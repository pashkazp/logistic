import * as tslib_1 from "tslib";
/**
 * @ignore
 */
export function createGrouping(source, keySelector, elementSelector) {
    var map = new Map();
    try {
        for (var source_1 = tslib_1.__values(source), source_1_1 = source_1.next(); !source_1_1.done; source_1_1 = source_1.next()) {
            var item = source_1_1.value;
            var key = keySelector(item);
            var grouping = map.get(key);
            if (!map.has(key)) {
                grouping = [];
                map.set(key, grouping);
            }
            grouping.push(elementSelector(item));
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (source_1_1 && !source_1_1.done && (_a = source_1.return)) _a.call(source_1);
        }
        finally { if (e_1) throw e_1.error; }
    }
    return map;
    var e_1, _a;
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZXJhYmxlL19ncm91cGluZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7O0dBRUc7QUFDSCxNQUFNLHlCQUNGLE1BQXlCLEVBQ3pCLFdBQXFDLEVBQ3JDLGVBQTJDO0lBQzdDLElBQUksR0FBRyxHQUFHLElBQUksR0FBRyxFQUFrQixDQUFDOztRQUNwQyxHQUFHLENBQUMsQ0FBYSxJQUFBLFdBQUEsaUJBQUEsTUFBTSxDQUFBLDhCQUFBO1lBQWxCLElBQUksSUFBSSxtQkFBQTtZQUNYLElBQUksR0FBRyxHQUFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUM1QixJQUFJLFFBQVEsR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1lBQzVCLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLFFBQVEsR0FBRyxFQUFFLENBQUM7Z0JBQ2QsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDekIsQ0FBQztZQUNELFFBQVMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7U0FDdkM7Ozs7Ozs7OztJQUVELE1BQU0sQ0FBQyxHQUFHLENBQUM7O0FBQ2IsQ0FBQyIsImZpbGUiOiJpdGVyYWJsZS9fZ3JvdXBpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwaW5nPFRTb3VyY2UsIFRLZXksIFRWYWx1ZT4oXG4gICAgc291cmNlOiBJdGVyYWJsZTxUU291cmNlPixcbiAgICBrZXlTZWxlY3RvcjogKHZhbHVlOiBUU291cmNlKSA9PiBUS2V5LFxuICAgIGVsZW1lbnRTZWxlY3RvcjogKHZhbHVlOiBUU291cmNlKSA9PiBUVmFsdWUpOiBNYXA8VEtleSwgVFZhbHVlW10+IHtcbiAgbGV0IG1hcCA9IG5ldyBNYXA8VEtleSwgVFZhbHVlW10+KCk7XG4gIGZvciAobGV0IGl0ZW0gb2Ygc291cmNlKSB7XG4gICAgbGV0IGtleSA9IGtleVNlbGVjdG9yKGl0ZW0pO1xuICAgIGxldCBncm91cGluZyA9IG1hcC5nZXQoa2V5KTtcbiAgICBpZiAoIW1hcC5oYXMoa2V5KSkge1xuICAgICAgZ3JvdXBpbmcgPSBbXTtcbiAgICAgIG1hcC5zZXQoa2V5LCBncm91cGluZyk7XG4gICAgfVxuICAgIGdyb3VwaW5nIS5wdXNoKGVsZW1lbnRTZWxlY3RvcihpdGVtKSk7XG4gIH1cblxuICByZXR1cm4gbWFwO1xufVxuIl19
