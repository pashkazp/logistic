import * as tslib_1 from "tslib";
import { IterableX } from '../iterable';
var SliceIterable = (function (_super) {
    tslib_1.__extends(SliceIterable, _super);
    function SliceIterable(source, begin, end) {
        var _this = _super.call(this) || this;
        _this._source = source;
        _this._begin = begin;
        _this._end = end;
        return _this;
    }
    SliceIterable.prototype[Symbol.iterator] = function () {
        var it, begin, next, end;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    it = this._source[Symbol.iterator](), begin = this._begin;
                    while (begin > 0 && !(next = it.next()).done) {
                        begin--;
                    }
                    end = this._end;
                    if (!(end > 0)) return [3 /*break*/, 3];
                    _a.label = 1;
                case 1:
                    if (!!(next = it.next()).done) return [3 /*break*/, 3];
                    return [4 /*yield*/, next.value];
                case 2:
                    _a.sent();
                    if (--end === 0) {
                        return [3 /*break*/, 3];
                    }
                    return [3 /*break*/, 1];
                case 3: return [2 /*return*/];
            }
        });
    };
    return SliceIterable;
}(IterableX));
export function slice(source, begin, end) {
    if (end === void 0) { end = Infinity; }
    return new SliceIterable(source, begin, end);
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZXJhYmxlL3NsaWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sYUFBYSxDQUFDO0FBRXhDO0lBQXFDLHlDQUFrQjtJQUtyRCx1QkFBWSxNQUF5QixFQUFFLEtBQWEsRUFBRSxHQUFXO1FBQWpFLFlBQ0UsaUJBQU8sU0FJUjtRQUhDLEtBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3RCLEtBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1FBQ3BCLEtBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDOztJQUNsQixDQUFDO0lBRUEsd0JBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFsQjs7Ozs7b0JBQ00sRUFBRSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEVBQUUsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQU87b0JBQ3BFLE9BQU8sS0FBSyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO3dCQUM3QyxLQUFLLEVBQUUsQ0FBQztvQkFDVixDQUFDO29CQUVHLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO3lCQUNoQixDQUFBLEdBQUcsR0FBRyxDQUFDLENBQUEsRUFBUCx3QkFBTzs7O3lCQUNGLENBQUMsQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSTtvQkFDN0IscUJBQU0sSUFBSSxDQUFDLEtBQUssRUFBQTs7b0JBQWhCLFNBQWdCLENBQUM7b0JBQ2pCLEVBQUUsQ0FBQyxDQUFDLEVBQUUsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQUMsTUFBTSxrQkFBQTtvQkFBQyxDQUFDOzs7OztLQUdoQztJQUNILG9CQUFDO0FBQUQsQ0ExQkEsQUEwQkMsQ0ExQm9DLFNBQVMsR0EwQjdDO0FBRUQsTUFBTSxnQkFDRixNQUF5QixFQUN6QixLQUFhLEVBQ2IsR0FBc0I7SUFBdEIsb0JBQUEsRUFBQSxjQUFzQjtJQUN4QixNQUFNLENBQUMsSUFBSSxhQUFhLENBQVUsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN4RCxDQUFDIiwiZmlsZSI6Iml0ZXJhYmxlL3NsaWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSXRlcmFibGVYIH0gZnJvbSAnLi4vaXRlcmFibGUnO1xuXG5jbGFzcyBTbGljZUl0ZXJhYmxlPFRTb3VyY2U+IGV4dGVuZHMgSXRlcmFibGVYPFRTb3VyY2U+IHtcbiAgcHJpdmF0ZSBfc291cmNlOiBJdGVyYWJsZTxUU291cmNlPjtcbiAgcHJpdmF0ZSBfYmVnaW46IG51bWJlcjtcbiAgcHJpdmF0ZSBfZW5kOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Ioc291cmNlOiBJdGVyYWJsZTxUU291cmNlPiwgYmVnaW46IG51bWJlciwgZW5kOiBudW1iZXIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3NvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLl9iZWdpbiA9IGJlZ2luO1xuICAgIHRoaXMuX2VuZCA9IGVuZDtcbiAgfVxuXG4gICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICBsZXQgaXQgPSB0aGlzLl9zb3VyY2VbU3ltYm9sLml0ZXJhdG9yXSgpLCBiZWdpbiA9IHRoaXMuX2JlZ2luLCBuZXh0O1xuICAgIHdoaWxlIChiZWdpbiA+IDAgJiYgIShuZXh0ID0gaXQubmV4dCgpKS5kb25lKSB7XG4gICAgICBiZWdpbi0tO1xuICAgIH1cblxuICAgIGxldCBlbmQgPSB0aGlzLl9lbmQ7XG4gICAgaWYgKGVuZCA+IDApIHtcbiAgICAgIHdoaWxlICghKG5leHQgPSBpdC5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgeWllbGQgbmV4dC52YWx1ZTtcbiAgICAgICAgaWYgKC0tZW5kID09PSAwKSB7IGJyZWFrOyB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzbGljZTxUU291cmNlPihcbiAgICBzb3VyY2U6IEl0ZXJhYmxlPFRTb3VyY2U+LFxuICAgIGJlZ2luOiBudW1iZXIsXG4gICAgZW5kOiBudW1iZXIgPSBJbmZpbml0eSk6IEl0ZXJhYmxlWDxUU291cmNlPiB7XG4gIHJldHVybiBuZXcgU2xpY2VJdGVyYWJsZTxUU291cmNlPihzb3VyY2UsIGJlZ2luLCBlbmQpO1xufVxuIl19
