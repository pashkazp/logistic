import * as tslib_1 from "tslib";
import { defer } from './defer';
import { empty } from './empty';
export function _case(selector, sources, defaultSource) {
    var _this = this;
    if (defaultSource === void 0) { defaultSource = empty(); }
    return defer(function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
        var key;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, selector()];
                case 1:
                    key = _a.sent();
                    return [2 /*return*/, sources.has(key) ? sources.get(key) : defaultSource];
            }
        });
    }); });
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvY2FzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFNBQVMsQ0FBQztBQUNoQyxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sU0FBUyxDQUFDO0FBRWhDLE1BQU0sZ0JBQ0YsUUFBMEMsRUFDMUMsT0FBNkMsRUFDN0MsYUFBd0Q7SUFINUQsaUJBUUM7SUFMRyw4QkFBQSxFQUFBLGdCQUF3QyxLQUFLLEVBQVc7SUFDMUQsTUFBTSxDQUFDLEtBQUssQ0FBVTs7Ozt3QkFDUixxQkFBTSxRQUFRLEVBQUUsRUFBQTs7b0JBQXRCLEdBQUcsR0FBRyxTQUFnQjtvQkFDNUIsc0JBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxHQUFHLGFBQWEsRUFBQzs7O1NBQzdELENBQUMsQ0FBQztBQUNMLENBQUMiLCJmaWxlIjoiYXN5bmNpdGVyYWJsZS9jYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXN5bmNJdGVyYWJsZVggfSBmcm9tICcuLi9hc3luY2l0ZXJhYmxlJztcbmltcG9ydCB7IGRlZmVyIH0gZnJvbSAnLi9kZWZlcic7XG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4vZW1wdHknO1xuXG5leHBvcnQgZnVuY3Rpb24gX2Nhc2U8VFNvdXJjZSwgVFJlc3VsdD4oXG4gICAgc2VsZWN0b3I6ICgpID0+IFRTb3VyY2UgfCBQcm9taXNlPFRTb3VyY2U+LFxuICAgIHNvdXJjZXM6IE1hcDxUU291cmNlLCBBc3luY0l0ZXJhYmxlPFRSZXN1bHQ+PixcbiAgICBkZWZhdWx0U291cmNlOiBBc3luY0l0ZXJhYmxlPFRSZXN1bHQ+ID0gZW1wdHk8VFJlc3VsdD4oKSk6IEFzeW5jSXRlcmFibGVYPFRSZXN1bHQ+IHtcbiAgcmV0dXJuIGRlZmVyPFRSZXN1bHQ+KGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBrZXkgPSBhd2FpdCBzZWxlY3RvcigpO1xuICAgIHJldHVybiBzb3VyY2VzLmhhcyhrZXkpID8gc291cmNlcy5nZXQoa2V5KSEgOiBkZWZhdWx0U291cmNlO1xuICB9KTtcbn1cbiJdfQ==
