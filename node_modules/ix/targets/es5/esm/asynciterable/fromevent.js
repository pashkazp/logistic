import { fromEventPattern } from './fromeventpattern';
function isNodeEventEmitter(obj) {
    return !!obj && typeof obj.addListener === 'function' && typeof obj.removeListener === 'function';
}
function isEventTarget(obj) {
    return !!obj && typeof obj.addEventListener === 'function' && typeof obj.removeEventListener === 'function';
}
export function fromEvent(obj, type, options) {
    if (isEventTarget(obj)) {
        var target_1 = (obj);
        return fromEventPattern(function (h) { return target_1.addEventListener(type, (h), options); }, function (h) { return target_1.removeEventListener(type, (h), options); });
    }
    else if (isNodeEventEmitter(obj)) {
        var target_2 = (obj);
        return fromEventPattern(function (h) { return target_2.addListener(type, h); }, function (h) { return target_2.removeListener(type, h); });
    }
    else {
        throw new TypeError('Unsupported event target');
    }
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvZnJvbWV2ZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBZXRELDRCQUE0QixHQUFRO0lBQ2xDLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLE9BQU8sR0FBRyxDQUFDLFdBQVcsS0FBSyxVQUFVLElBQUksT0FBTyxHQUFHLENBQUMsY0FBYyxLQUFLLFVBQVUsQ0FBQztBQUNwRyxDQUFDO0FBRUQsdUJBQXVCLEdBQVE7SUFDN0IsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksT0FBTyxHQUFHLENBQUMsZ0JBQWdCLEtBQUssVUFBVSxJQUFJLE9BQU8sR0FBRyxDQUFDLG1CQUFtQixLQUFLLFVBQVUsQ0FBQztBQUM5RyxDQUFDO0FBRUQsTUFBTSxvQkFDRixHQUFrQixFQUNsQixJQUFZLEVBQ1osT0FBOEI7SUFDaEMsRUFBRSxDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN2QixJQUFNLFFBQU0sR0FBZ0IsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQyxNQUFNLENBQUMsZ0JBQWdCLENBQ3JCLFVBQUEsQ0FBQyxJQUFJLE9BQUEsUUFBTSxDQUFDLGdCQUFnQixDQUFDLElBQUksRUFBaUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxPQUFPLENBQUMsRUFBMUQsQ0FBMEQsRUFDL0QsVUFBQSxDQUFDLElBQUksT0FBQSxRQUFNLENBQUMsbUJBQW1CLENBQUMsSUFBSSxFQUFpQixDQUFDLENBQUMsQ0FBQyxFQUFFLE9BQU8sQ0FBQyxFQUE3RCxDQUE2RCxDQUNuRSxDQUFDO0lBQ0osQ0FBQztJQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbkMsSUFBTSxRQUFNLEdBQXFCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDdkMsTUFBTSxDQUFDLGdCQUFnQixDQUNyQixVQUFBLENBQUMsSUFBSSxPQUFBLFFBQU0sQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUEzQixDQUEyQixFQUNoQyxVQUFBLENBQUMsSUFBSSxPQUFBLFFBQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUE5QixDQUE4QixDQUNwQyxDQUFDO0lBQ0osQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ04sTUFBTSxJQUFJLFNBQVMsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO0lBQ2xELENBQUM7QUFDSCxDQUFDIiwiZmlsZSI6ImFzeW5jaXRlcmFibGUvZnJvbWV2ZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJvbUV2ZW50UGF0dGVybiB9IGZyb20gJy4vZnJvbWV2ZW50cGF0dGVybic7XG5cbmV4cG9ydCB0eXBlIE5vZGVFdmVudEVtaXR0ZXIgID0ge1xuICBhZGRMaXN0ZW5lcjogKGV2ZW50TmFtZTogc3RyaW5nLCBoYW5kbGVyOiBGdW5jdGlvbikgPT4gdm9pZDtcbiAgcmVtb3ZlTGlzdGVuZXI6IChldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgdHlwZSBFdmVudExpc3RlbmVyT3B0aW9ucyA9IHtcbiAgY2FwdHVyZT86IGJvb2xlYW47XG4gIHBhc3NpdmU/OiBib29sZWFuO1xuICBvbmNlPzogYm9vbGVhbjtcbn0gfCBib29sZWFuO1xuXG5leHBvcnQgdHlwZSBFdmVudGVkVGFyZ2V0ID0gRXZlbnRUYXJnZXQgfCBOb2RlRXZlbnRFbWl0dGVyO1xuXG5mdW5jdGlvbiBpc05vZGVFdmVudEVtaXR0ZXIob2JqOiBhbnkpOiBvYmogaXMgTm9kZUV2ZW50RW1pdHRlciB7XG4gIHJldHVybiAhIW9iaiAmJiB0eXBlb2Ygb2JqLmFkZExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmoucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQob2JqOiBhbnkpOiBvYmogaXMgRXZlbnRUYXJnZXQge1xuICByZXR1cm4gISFvYmogJiYgdHlwZW9mIG9iai5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudDxUU291cmNlPihcbiAgICBvYmo6IEV2ZW50ZWRUYXJnZXQsXG4gICAgdHlwZTogc3RyaW5nLFxuICAgIG9wdGlvbnM/OiBFdmVudExpc3RlbmVyT3B0aW9ucykge1xuICBpZiAoaXNFdmVudFRhcmdldChvYmopKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gPEV2ZW50VGFyZ2V0PihvYmopO1xuICAgIHJldHVybiBmcm9tRXZlbnRQYXR0ZXJuPFRTb3VyY2U+KFxuICAgICAgaCA9PiB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCA8RXZlbnRMaXN0ZW5lcj4oaCksIG9wdGlvbnMpLFxuICAgICAgaCA9PiB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCA8RXZlbnRMaXN0ZW5lcj4oaCksIG9wdGlvbnMpXG4gICAgKTtcbiAgfSBlbHNlIGlmIChpc05vZGVFdmVudEVtaXR0ZXIob2JqKSkge1xuICAgIGNvbnN0IHRhcmdldCA9IDxOb2RlRXZlbnRFbWl0dGVyPihvYmopO1xuICAgIHJldHVybiBmcm9tRXZlbnRQYXR0ZXJuPFRTb3VyY2U+KFxuICAgICAgaCA9PiB0YXJnZXQuYWRkTGlzdGVuZXIodHlwZSwgaCksXG4gICAgICBoID0+IHRhcmdldC5yZW1vdmVMaXN0ZW5lcih0eXBlLCBoKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5zdXBwb3J0ZWQgZXZlbnQgdGFyZ2V0Jyk7XG4gIH1cbn1cbiJdfQ==
