Object.defineProperty(exports, "__esModule", { value: true });
var toarray_1 = require("./toarray");
function reduceRight(source, fn, seed) {
    var hasSeed = arguments.length === 3;
    var hasValue = false;
    var array = toarray_1.toArray(source);
    for (var offset = array.length - 1; offset >= 0; offset--) {
        var item = array[offset];
        if (hasValue || (hasValue = hasSeed)) {
            seed = fn(seed, item, offset);
        }
        else {
            seed = item;
            hasValue = true;
        }
    }
    if (hasSeed && !hasValue) {
        return seed;
    }
    if (!hasValue) {
        throw new Error('Sequence contains no elements');
    }
    return seed;
}
exports.reduceRight = reduceRight;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZXJhYmxlL3JlZHVjZXJpZ2h0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxxQ0FBb0M7QUFlcEMscUJBQ0ksTUFBbUIsRUFDbkIsRUFBc0MsRUFDdEMsSUFBWTtJQUNkLElBQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDO0lBQ3ZDLElBQUksUUFBUSxHQUFHLEtBQUssQ0FBQztJQUNyQixJQUFNLEtBQUssR0FBRyxpQkFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzlCLEdBQUcsQ0FBQyxDQUFDLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLE1BQU0sSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQztRQUMxRCxJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDM0IsRUFBRSxDQUFDLENBQUMsUUFBUSxJQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLEdBQUcsRUFBRSxDQUFJLElBQUksRUFBRSxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDbkMsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ04sSUFBSSxHQUFHLElBQUksQ0FBQztZQUNaLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDbEIsQ0FBQztJQUNILENBQUM7SUFFRCxFQUFFLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ3pCLE1BQU0sQ0FBQyxJQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsRUFBRSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1FBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxNQUFNLENBQUMsSUFBSyxDQUFDO0FBQ2YsQ0FBQztBQTFCRCxrQ0EwQkMiLCJmaWxlIjoiaXRlcmFibGUvcmVkdWNlcmlnaHQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0b0FycmF5IH0gZnJvbSAnLi90b2FycmF5JztcblxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZVJpZ2h0PFQ+KFxuICAgIHNvdXJjZTogSXRlcmFibGU8VD4sXG4gICAgYWNjdW11bGF0b3I6IChhY2M6IFQsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBULFxuICAgIHNlZWQ/OiBUKTogVDtcbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2VSaWdodDxUPihcbiAgICBzb3VyY2U6IEl0ZXJhYmxlPFQ+LFxuICAgIGFjY3VtdWxhdG9yOiAoYWNjOiBUW10sIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBUW10sXG4gICAgc2VlZD86IFRbXSk6IFRbXTtcbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2VSaWdodDxULCBSPihcbiAgICBzb3VyY2U6IEl0ZXJhYmxlPFQ+LFxuICAgIGFjY3VtdWxhdG9yOiAoYWNjOiBSLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gUixcbiAgICBzZWVkPzogUik6IFI7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2VSaWdodDxULCBSPihcbiAgICBzb3VyY2U6IEl0ZXJhYmxlPFQ+LFxuICAgIGZuOiAoYWNjOiBSLCB4OiBULCBpbmRleDogbnVtYmVyKSA9PiBSLFxuICAgIHNlZWQ/OiBUIHwgUik6IFQgfCBSIHtcbiAgY29uc3QgaGFzU2VlZCA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDM7XG4gIGxldCBoYXNWYWx1ZSA9IGZhbHNlO1xuICBjb25zdCBhcnJheSA9IHRvQXJyYXkoc291cmNlKTtcbiAgZm9yIChsZXQgb2Zmc2V0ID0gYXJyYXkubGVuZ3RoIC0gMTsgb2Zmc2V0ID49IDA7IG9mZnNldC0tKSB7XG4gICAgY29uc3QgaXRlbSA9IGFycmF5W29mZnNldF07XG4gICAgaWYgKGhhc1ZhbHVlIHx8IChoYXNWYWx1ZSA9IGhhc1NlZWQpKSB7XG4gICAgICBzZWVkID0gZm4oPFI+c2VlZCwgaXRlbSwgb2Zmc2V0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VlZCA9IGl0ZW07XG4gICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKGhhc1NlZWQgJiYgIWhhc1ZhbHVlKSB7XG4gICAgcmV0dXJuIHNlZWQhO1xuICB9XG5cbiAgaWYgKCFoYXNWYWx1ZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2VxdWVuY2UgY29udGFpbnMgbm8gZWxlbWVudHMnKTtcbiAgfVxuXG4gIHJldHVybiBzZWVkITtcbn1cbiJdfQ==
