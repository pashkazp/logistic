Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var defer_1 = require("./defer");
var empty_1 = require("./empty");
function _case(selector, sources, defaultSource) {
    var _this = this;
    if (defaultSource === void 0) { defaultSource = empty_1.empty(); }
    return defer_1.defer(function () { return tslib_1.__awaiter(_this, void 0, void 0, function () {
        var key;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0: return [4 /*yield*/, selector()];
                case 1:
                    key = _a.sent();
                    return [2 /*return*/, sources.has(key) ? sources.get(key) : defaultSource];
            }
        });
    }); });
}
exports._case = _case;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvY2FzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLGlDQUFnQztBQUNoQyxpQ0FBZ0M7QUFFaEMsZUFDSSxRQUEwQyxFQUMxQyxPQUE2QyxFQUM3QyxhQUF3RDtJQUg1RCxpQkFRQztJQUxHLDhCQUFBLEVBQUEsZ0JBQXdDLGFBQUssRUFBVztJQUMxRCxNQUFNLENBQUMsYUFBSyxDQUFVOzs7O3dCQUNSLHFCQUFNLFFBQVEsRUFBRSxFQUFBOztvQkFBdEIsR0FBRyxHQUFHLFNBQWdCO29CQUM1QixzQkFBTyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsYUFBYSxFQUFDOzs7U0FDN0QsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQVJELHNCQVFDIiwiZmlsZSI6ImFzeW5jaXRlcmFibGUvY2FzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jSXRlcmFibGVYIH0gZnJvbSAnLi4vYXN5bmNpdGVyYWJsZSc7XG5pbXBvcnQgeyBkZWZlciB9IGZyb20gJy4vZGVmZXInO1xuaW1wb3J0IHsgZW1wdHkgfSBmcm9tICcuL2VtcHR5JztcblxuZXhwb3J0IGZ1bmN0aW9uIF9jYXNlPFRTb3VyY2UsIFRSZXN1bHQ+KFxuICAgIHNlbGVjdG9yOiAoKSA9PiBUU291cmNlIHwgUHJvbWlzZTxUU291cmNlPixcbiAgICBzb3VyY2VzOiBNYXA8VFNvdXJjZSwgQXN5bmNJdGVyYWJsZTxUUmVzdWx0Pj4sXG4gICAgZGVmYXVsdFNvdXJjZTogQXN5bmNJdGVyYWJsZTxUUmVzdWx0PiA9IGVtcHR5PFRSZXN1bHQ+KCkpOiBBc3luY0l0ZXJhYmxlWDxUUmVzdWx0PiB7XG4gIHJldHVybiBkZWZlcjxUUmVzdWx0Pihhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gYXdhaXQgc2VsZWN0b3IoKTtcbiAgICByZXR1cm4gc291cmNlcy5oYXMoa2V5KSA/IHNvdXJjZXMuZ2V0KGtleSkhIDogZGVmYXVsdFNvdXJjZTtcbiAgfSk7XG59XG4iXX0=
