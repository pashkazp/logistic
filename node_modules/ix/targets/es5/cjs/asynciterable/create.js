Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var asynciterable_1 = require("../asynciterable");
var AnonymousAsyncIterable = (function (_super) {
    tslib_1.__extends(AnonymousAsyncIterable, _super);
    function AnonymousAsyncIterable(fn) {
        var _this = _super.call(this) || this;
        _this._fn = fn;
        return _this;
    }
    AnonymousAsyncIterable.prototype[Symbol.asyncIterator] = function () {
        return tslib_1.__asyncGenerator(this, arguments, function _a() {
            var it, next;
            return tslib_1.__generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, tslib_1.__await(this._fn())];
                    case 1:
                        it = _a.sent();
                        _a.label = 2;
                    case 2: return [4 /*yield*/, tslib_1.__await(it.next())];
                    case 3:
                        if (!!(next = _a.sent()).done) return [3 /*break*/, 5];
                        return [4 /*yield*/, next.value];
                    case 4:
                        _a.sent();
                        return [3 /*break*/, 2];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    return AnonymousAsyncIterable;
}(asynciterable_1.AsyncIterableX));
function create(fn) {
    return new AnonymousAsyncIterable(fn);
}
exports.create = create;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvY3JlYXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsa0RBQWtEO0FBRWxEO0lBQXdDLGtEQUFpQjtJQUd2RCxnQ0FBWSxFQUFzRDtRQUFsRSxZQUNFLGlCQUFPLFNBRVI7UUFEQyxLQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQzs7SUFDaEIsQ0FBQztJQUVNLGlDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsR0FBN0I7Ozs7OzRCQUNXLHFDQUFNLElBQUksQ0FBQyxHQUFHLEVBQUUsR0FBQTs7d0JBQXJCLEVBQUUsR0FBRyxTQUFnQjs7NEJBQ1QscUNBQU0sRUFBRSxDQUFDLElBQUksRUFBRSxHQUFBOzs2QkFBeEIsQ0FBQyxDQUFDLElBQUksR0FBRyxTQUFlLENBQUMsQ0FBQyxJQUFJO3dCQUNuQyxxQkFBTSxJQUFJLENBQUMsS0FBSyxFQUFBOzt3QkFBaEIsU0FBZ0IsQ0FBQzs7Ozs7O0tBRXBCO0lBQ0gsNkJBQUM7QUFBRCxDQWRBLEFBY0MsQ0FkdUMsOEJBQWMsR0FjckQ7QUFFRCxnQkFBMEIsRUFBc0Q7SUFDOUUsTUFBTSxDQUFDLElBQUksc0JBQXNCLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDeEMsQ0FBQztBQUZELHdCQUVDIiwiZmlsZSI6ImFzeW5jaXRlcmFibGUvY3JlYXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXN5bmNJdGVyYWJsZVggfSBmcm9tICcuLi9hc3luY2l0ZXJhYmxlJztcblxuY2xhc3MgQW5vbnltb3VzQXN5bmNJdGVyYWJsZTxUPiBleHRlbmRzIEFzeW5jSXRlcmFibGVYPFQ+IHtcbiAgcHJpdmF0ZSBfZm46ICgpID0+IEFzeW5jSXRlcmF0b3I8VD4gfCBQcm9taXNlPEFzeW5jSXRlcmF0b3I8VD4+O1xuXG4gIGNvbnN0cnVjdG9yKGZuOiAoKSA9PiBBc3luY0l0ZXJhdG9yPFQ+IHwgUHJvbWlzZTxBc3luY0l0ZXJhdG9yPFQ+Pikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZm4gPSBmbjtcbiAgfVxuXG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGxldCBpdCA9IGF3YWl0IHRoaXMuX2ZuKCksIG5leHQ6IEl0ZXJhdG9yUmVzdWx0PFQ+IHwgdW5kZWZpbmVkO1xuICAgIHdoaWxlICghKG5leHQgPSBhd2FpdCBpdC5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIHlpZWxkIG5leHQudmFsdWU7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGU8VD4oZm46ICgpID0+IEFzeW5jSXRlcmF0b3I8VD4gfCBQcm9taXNlPEFzeW5jSXRlcmF0b3I8VD4+KTogQXN5bmNJdGVyYWJsZVg8VD4ge1xuICByZXR1cm4gbmV3IEFub255bW91c0FzeW5jSXRlcmFibGUoZm4pO1xufVxuIl19
