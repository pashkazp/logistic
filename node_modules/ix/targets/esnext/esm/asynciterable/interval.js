import { AsyncIterableX } from '../asynciterable';
import { sleep } from './_sleep';
class IntervalAsyncIterable extends AsyncIterableX {
    constructor(dueTime) {
        super();
        this._dueTime = dueTime;
    }
    async *[Symbol.asyncIterator]() {
        let i = 0;
        while (1) {
            await sleep(this._dueTime);
            yield i++;
        }
    }
}
export function interval(dueTime) {
    return new IntervalAsyncIterable(dueTime);
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvaW50ZXJ2YWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ2xELE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUM7QUFFakMsMkJBQTRCLFNBQVEsY0FBc0I7SUFHeEQsWUFBWSxPQUFlO1FBQ3pCLEtBQUssRUFBRSxDQUFDO1FBQ1IsSUFBSSxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUM7SUFDMUIsQ0FBQztJQUVELEtBQUssRUFBRSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUM7UUFDM0IsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ1YsT0FBTyxDQUFDLEVBQUUsQ0FBQztZQUNULE1BQU0sS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUMzQixNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ1osQ0FBQztJQUNILENBQUM7Q0FDRjtBQUVELE1BQU0sbUJBQW1CLE9BQWU7SUFDdEMsTUFBTSxDQUFDLElBQUkscUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDNUMsQ0FBQyIsImZpbGUiOiJhc3luY2l0ZXJhYmxlL2ludGVydmFsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXN5bmNJdGVyYWJsZVggfSBmcm9tICcuLi9hc3luY2l0ZXJhYmxlJztcbmltcG9ydCB7IHNsZWVwIH0gZnJvbSAnLi9fc2xlZXAnO1xuXG5jbGFzcyBJbnRlcnZhbEFzeW5jSXRlcmFibGUgZXh0ZW5kcyBBc3luY0l0ZXJhYmxlWDxudW1iZXI+IHtcbiAgcHJpdmF0ZSBfZHVlVGltZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKGR1ZVRpbWU6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZHVlVGltZSA9IGR1ZVRpbWU7XG4gIH1cblxuICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKDEpIHtcbiAgICAgIGF3YWl0IHNsZWVwKHRoaXMuX2R1ZVRpbWUpO1xuICAgICAgeWllbGQgaSsrO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW50ZXJ2YWwoZHVlVGltZTogbnVtYmVyKTogQXN5bmNJdGVyYWJsZVg8bnVtYmVyPiB7XG4gIHJldHVybiBuZXcgSW50ZXJ2YWxBc3luY0l0ZXJhYmxlKGR1ZVRpbWUpO1xufSJdfQ==
