import { AsyncIterableX } from '../asynciterable';
class DeferAsyncIterable extends AsyncIterableX {
    constructor(fn) {
        super();
        this._fn = fn;
    }
    async *[Symbol.asyncIterator]() {
        let items = await this._fn();
        for await (let item of items) {
            yield item;
        }
    }
}
export function defer(factory) {
    return new DeferAsyncIterable(factory);
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvZGVmZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBRWxELHdCQUFrQyxTQUFRLGNBQXVCO0lBRy9ELFlBQVksRUFBa0U7UUFDNUUsS0FBSyxFQUFFLENBQUM7UUFDUixJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztJQUNoQixDQUFDO0lBRUQsS0FBSyxFQUFFLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQztRQUMzQixJQUFJLEtBQUssR0FBRyxNQUFNLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztRQUM3QixHQUFHLENBQUMsS0FBSyxDQUFMLENBQU8sSUFBSSxJQUFJLElBQUksS0FBSyxDQUFDLENBQUMsQ0FBQztZQUFDLE1BQU0sSUFBSSxDQUFDO1FBQUMsQ0FBQztJQUMvQyxDQUFDO0NBQ0Y7QUFFRCxNQUFNLGdCQUNGLE9BQXVFO0lBQ3pFLE1BQU0sQ0FBQyxJQUFJLGtCQUFrQixDQUFVLE9BQU8sQ0FBQyxDQUFDO0FBQ2xELENBQUMiLCJmaWxlIjoiYXN5bmNpdGVyYWJsZS9kZWZlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFzeW5jSXRlcmFibGVYIH0gZnJvbSAnLi4vYXN5bmNpdGVyYWJsZSc7XG5cbmNsYXNzIERlZmVyQXN5bmNJdGVyYWJsZTxUU291cmNlPiBleHRlbmRzIEFzeW5jSXRlcmFibGVYPFRTb3VyY2U+IHtcbiAgcHJpdmF0ZSBfZm46ICgpID0+IEFzeW5jSXRlcmFibGU8VFNvdXJjZT4gfCBQcm9taXNlPEFzeW5jSXRlcmFibGU8VFNvdXJjZT4+O1xuXG4gIGNvbnN0cnVjdG9yKGZuOiAoKSA9PiBBc3luY0l0ZXJhYmxlPFRTb3VyY2U+IHwgUHJvbWlzZTxBc3luY0l0ZXJhYmxlPFRTb3VyY2U+Pikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fZm4gPSBmbjtcbiAgfVxuXG4gIGFzeW5jICpbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgIGxldCBpdGVtcyA9IGF3YWl0IHRoaXMuX2ZuKCk7XG4gICAgZm9yIGF3YWl0IChsZXQgaXRlbSBvZiBpdGVtcykgeyB5aWVsZCBpdGVtOyB9XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmVyPFRTb3VyY2U+KFxuICAgIGZhY3Rvcnk6ICgpID0+IEFzeW5jSXRlcmFibGU8VFNvdXJjZT4gfCBQcm9taXNlPEFzeW5jSXRlcmFibGU8VFNvdXJjZT4+KTogQXN5bmNJdGVyYWJsZVg8VFNvdXJjZT4ge1xuICByZXR1cm4gbmV3IERlZmVyQXN5bmNJdGVyYWJsZTxUU291cmNlPihmYWN0b3J5KTtcbn1cbiJdfQ==
