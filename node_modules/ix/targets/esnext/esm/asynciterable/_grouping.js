/**
 * @ignore
 */
export async function createGrouping(source, keySelector, elementSelector) {
    let map = new Map();
    for await (let item of source) {
        let key = await keySelector(item);
        let grouping = map.get(key);
        if (!map.has(key)) {
            grouping = [];
            map.set(key, grouping);
        }
        let element = await elementSelector(item);
        grouping.push(element);
    }
    return map;
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvX2dyb3VwaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBQ0gsTUFBTSxDQUFDLEtBQUsseUJBQ1IsTUFBOEIsRUFDOUIsV0FBcUQsRUFDckQsZUFBNkQ7SUFDL0QsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQWtCLENBQUM7SUFDcEMsR0FBRyxDQUFDLEtBQUssQ0FBTCxDQUFPLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxHQUFHLEdBQUcsTUFBTSxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEMsSUFBSSxRQUFRLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM1QixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xCLFFBQVEsR0FBRyxFQUFFLENBQUM7WUFDZCxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN6QixDQUFDO1FBQ0QsSUFBSSxPQUFPLEdBQUcsTUFBTSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUMsUUFBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQsTUFBTSxDQUFDLEdBQUcsQ0FBQztBQUNiLENBQUMiLCJmaWxlIjoiYXN5bmNpdGVyYWJsZS9fZ3JvdXBpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUdyb3VwaW5nPFRTb3VyY2UsIFRLZXksIFRWYWx1ZT4oXG4gICAgc291cmNlOiBBc3luY0l0ZXJhYmxlPFRTb3VyY2U+LFxuICAgIGtleVNlbGVjdG9yOiAodmFsdWU6IFRTb3VyY2UpID0+IFRLZXkgfCBQcm9taXNlPFRLZXk+LFxuICAgIGVsZW1lbnRTZWxlY3RvcjogKHZhbHVlOiBUU291cmNlKSA9PiBUVmFsdWUgfCBQcm9taXNlPFRWYWx1ZT4pOiBQcm9taXNlPE1hcDxUS2V5LCBUVmFsdWVbXT4+IHtcbiAgbGV0IG1hcCA9IG5ldyBNYXA8VEtleSwgVFZhbHVlW10+KCk7XG4gIGZvciBhd2FpdCAobGV0IGl0ZW0gb2Ygc291cmNlKSB7XG4gICAgbGV0IGtleSA9IGF3YWl0IGtleVNlbGVjdG9yKGl0ZW0pO1xuICAgIGxldCBncm91cGluZyA9IG1hcC5nZXQoa2V5KTtcbiAgICBpZiAoIW1hcC5oYXMoa2V5KSkge1xuICAgICAgZ3JvdXBpbmcgPSBbXTtcbiAgICAgIG1hcC5zZXQoa2V5LCBncm91cGluZyk7XG4gICAgfVxuICAgIGxldCBlbGVtZW50ID0gYXdhaXQgZWxlbWVudFNlbGVjdG9yKGl0ZW0pO1xuICAgIGdyb3VwaW5nIS5wdXNoKGVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIG1hcDtcbn1cbiJdfQ==
