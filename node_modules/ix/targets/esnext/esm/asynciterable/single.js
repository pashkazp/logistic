export async function single(source, selector = () => true) {
    let result;
    let hasResult = false;
    for await (let item of source) {
        if (hasResult && await selector(item)) {
            throw new Error('More than one element was found');
        }
        if (await selector(item)) {
            result = item;
            hasResult = true;
        }
    }
    return result;
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvc2luZ2xlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxLQUFLLGlCQUNSLE1BQXdCLEVBQ3hCLFdBQXFELE1BQU0sSUFBSTtJQUNqRSxJQUFJLE1BQXFCLENBQUM7SUFDMUIsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ3RCLEdBQUcsQ0FBQyxLQUFLLENBQUwsQ0FBTyxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzlCLEVBQUUsQ0FBQyxDQUFDLFNBQVMsSUFBSSxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO1FBQ3JELENBQUM7UUFDRCxFQUFFLENBQUMsQ0FBQyxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNkLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDbkIsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ2hCLENBQUMiLCJmaWxlIjoiYXN5bmNpdGVyYWJsZS9zaW5nbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgYXN5bmMgZnVuY3Rpb24gc2luZ2xlPFQ+KFxuICAgIHNvdXJjZTogQXN5bmNJdGVyYWJsZTxUPixcbiAgICBzZWxlY3RvcjogKHZhbHVlOiBUKSA9PiBib29sZWFuIHwgUHJvbWlzZTxib29sZWFuPiA9ICgpID0+IHRydWUpOiBQcm9taXNlPFQgfCB1bmRlZmluZWQ+IHtcbiAgbGV0IHJlc3VsdDogVCB8IHVuZGVmaW5lZDtcbiAgbGV0IGhhc1Jlc3VsdCA9IGZhbHNlO1xuICBmb3IgYXdhaXQgKGxldCBpdGVtIG9mIHNvdXJjZSkge1xuICAgIGlmIChoYXNSZXN1bHQgJiYgYXdhaXQgc2VsZWN0b3IoaXRlbSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTW9yZSB0aGFuIG9uZSBlbGVtZW50IHdhcyBmb3VuZCcpO1xuICAgIH1cbiAgICBpZiAoYXdhaXQgc2VsZWN0b3IoaXRlbSkpIHtcbiAgICAgIHJlc3VsdCA9IGl0ZW07XG4gICAgICBoYXNSZXN1bHQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iXX0=
