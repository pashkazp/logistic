goog.module('targets.esnext.cls.iterable.single'); exports = {}; var module = {id: 'targets/esnext/cls/iterable/single.js'};/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @template T
 * @param {!Iterable<T>} source
 * @param {function(T): boolean=} fn
 * @return {T}
 */
function single(source, fn = () => true) {
    let /** @type {T} */ result;
    let /** @type {boolean} */ hasResult = false;
    for (let /** @type {T} */ item of source) {
        if (hasResult && fn(item)) {
            throw new Error('More than one element was found');
        }
        if (fn(item)) {
            result = item;
            hasResult = true;
        }
    }
    return result;
}
exports.single = single;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9pdGVyYWJsZS9zaW5nbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHOztBQUdIOzs7OztHQUtHO0FBWEgsZ0JBQTBCLE1BQW1CLEVBQUMsS0FBNEIsTUFBTSxJQUFLO0lBYW5GLElBQUksZ0JBWkQsQ0FBQSxNQUFzQixDQUFDO0lBYTFCLElBQUksc0JBWkQsQ0FBQSxTQUFVLEdBQUUsS0FBTSxDQUFDO0lBYXRCLEdBQUcsQ0FBQyxDQVpDLElBQUEsZ0JBQUcsQ0FBQSxJQUFLLElBQUcsTUFBTyxDQUFDLENBQUEsQ0FBRTtRQWF4QixFQUFFLENBQUMsQ0FaQyxTQUFTLElBQUcsRUFBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUEsQ0FBRTtZQWExQixNQVpLLElBQUksS0FBTSxDQUFDLGlDQUFpQyxDQUFDLENBQUM7UUFhckQsQ0FaQztRQWFELEVBQUUsQ0FBQyxDQVpDLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBLENBQUU7WUFhYixNQVpNLEdBQUUsSUFBSyxDQUFDO1lBYWQsU0FaUyxHQUFFLElBQUssQ0FBQztRQWFuQixDQVpDO0lBYUgsQ0FaQztJQWNELE1BWk0sQ0FBQSxNQUFPLENBQUM7QUFhaEIsQ0FaQztBQWRELHdCQWNDIiwiZmlsZSI6InNpbmdsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHshSXRlcmFibGU8VD59IHNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbihUKTogYm9vbGVhbj19IGZuXG4gKiBAcmV0dXJuIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2luZ2xlPFQ+KHNvdXJjZTogSXRlcmFibGU8VD4sIGZuOiAodmFsdWU6IFQpID0+IGJvb2xlYW4gPSAoKSA9PiB0cnVlKTogVCB8IHVuZGVmaW5lZCB7XG4gIGxldCAvKiogQHR5cGUge1R9ICovIHJlc3VsdDogVCB8IHVuZGVmaW5lZDtcbiAgbGV0IC8qKiBAdHlwZSB7Ym9vbGVhbn0gKi8gaGFzUmVzdWx0ID0gZmFsc2U7XG4gIGZvciAobGV0IC8qKiBAdHlwZSB7VH0gKi8gaXRlbSBvZiBzb3VyY2UpIHtcbiAgICBpZiAoaGFzUmVzdWx0ICYmIGZuKGl0ZW0pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vcmUgdGhhbiBvbmUgZWxlbWVudCB3YXMgZm91bmQnKTtcbiAgICB9XG4gICAgaWYgKGZuKGl0ZW0pKSB7XG4gICAgICByZXN1bHQgPSBpdGVtO1xuICAgICAgaGFzUmVzdWx0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIl19