goog.module('targets.esnext.cls.iterable.reduce'); exports = {}; var module = {id: 'targets/esnext/cls/iterable/reduce.js'};/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @template T, R
 * @param {!Iterable<T>} source
 * @param {function(R, T, number): R} fn
 * @param {(T|R)=} seed
 * @return {(T|R)}
 */
function reduce(source, fn, seed) {
    const /** @type {boolean} */ hasSeed = arguments.length === 3;
    let /** @type {number} */ i = 0, /** @type {boolean} */ hasValue = false;
    for (let /** @type {T} */ item of source) {
        if (hasValue || (hasValue = hasSeed)) {
            seed = fn(/** @type {R} */ (seed), item, i++);
        }
        else {
            seed = item;
            hasValue = true;
            i++;
        }
    }
    if (hasSeed && !hasValue) {
        return ((seed));
    }
    if (!hasValue) {
        throw new Error('Sequence contains no elements');
    }
    return ((seed));
}
exports.reduce = reduce;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9pdGVyYWJsZS9yZWR1Y2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHOztBQUtIOzs7Ozs7R0FNRztBQVZILGdCQVlNLE1BWG1CLEVBWW5CLEVBWHNDLEVBWXRDLElBWFk7SUFZaEIsTUFBTSxzQkFYRCxDQUFBLE9BQVEsR0FBRSxTQUFVLENBQUMsTUFBTSxLQUFJLENBQUUsQ0FBQztJQVl2QyxJQUFJLHFCQVhELENBQUEsQ0FBRSxHQUFFLENBQUUsRUFBQSxzQkFBQyxDQUFBLFFBQVMsR0FBRSxLQUFNLENBQUM7SUFZNUIsR0FBRyxDQUFDLENBWEMsSUFBQSxnQkFBRyxDQUFBLElBQUssSUFBRyxNQUFPLENBQUMsQ0FBQSxDQUFFO1FBWXhCLEVBQUUsQ0FBQyxDQVhDLFFBQVEsSUFBRyxDQUFFLFFBQVEsR0FBRSxPQUFRLENBQUMsQ0FBQyxDQUFBLENBQUU7WUFZckMsSUFYSSxHQUFFLEVBQUcsQ0FBQSxnQkFBQSxDQUFBLENBQUksSUFBQSxDQUFJLEVBQUMsSUFBSyxFQUFDLENBQUUsRUFBRSxDQUFDLENBQUM7UUFZaEMsQ0FYQztRQUFBLElBQUssQ0FBQSxDQUFFO1lBWU4sSUFYSSxHQUFFLElBQUssQ0FBQztZQVlaLFFBWFEsR0FBRSxJQUFLLENBQUM7WUFZaEIsQ0FYQyxFQUFFLENBQUM7UUFZTixDQVhDO0lBWUgsQ0FYQztJQWFELEVBQUUsQ0FBQyxDQVhDLE9BQU8sSUFBRyxDQUFFLFFBQVEsQ0FBQyxDQUFBLENBQUU7UUFZekIsTUFBTSxDQUFxQixDQUFDLENBWHRCLElBQUEsQ0FBQSxDQUFNLENBQUM7SUFZZixDQVhDO0lBYUQsRUFBRSxDQUFDLENBWEMsQ0FBQyxRQUFRLENBQUMsQ0FBQSxDQUFFO1FBWWQsTUFYSyxJQUFJLEtBQU0sQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0lBWW5ELENBWEM7SUFhRCxNQUFNLENBQXFCLENBQUMsQ0FYdEIsSUFBQSxDQUFBLENBQU0sQ0FBQztBQVlmLENBWEM7QUF6QkQsd0JBeUJDIiwiZmlsZSI6InJlZHVjZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgYWRkZWQgYnkgdHNpY2tsZVxuICogQHN1cHByZXNzIHtjaGVja1R5cGVzfSBjaGVja2VkIGJ5IHRzY1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2U8VD4oc291cmNlOiBJdGVyYWJsZTxUPiwgYWNjdW11bGF0b3I6IChhY2M6IFQsIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBULCBzZWVkPzogVCk6IFQ7XG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlPFQ+KHNvdXJjZTogSXRlcmFibGU8VD4sIGFjY3VtdWxhdG9yOiAoYWNjOiBUW10sIHZhbHVlOiBULCBpbmRleDogbnVtYmVyKSA9PiBUW10sIHNlZWQ/OiBUW10pOiBUW107XG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlPFQsIFI+KHNvdXJjZTogSXRlcmFibGU8VD4sIGFjY3VtdWxhdG9yOiAoYWNjOiBSLCB2YWx1ZTogVCwgaW5kZXg6IG51bWJlcikgPT4gUiwgc2VlZD86IFIpOiBSO1xuLyoqXG4gKiBAdGVtcGxhdGUgVCwgUlxuICogQHBhcmFtIHshSXRlcmFibGU8VD59IHNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbihSLCBULCBudW1iZXIpOiBSfSBmblxuICogQHBhcmFtIHsoVHxSKT19IHNlZWRcbiAqIEByZXR1cm4geyhUfFIpfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlPFQsIFI+KFxuICAgICAgc291cmNlOiBJdGVyYWJsZTxUPixcbiAgICAgIGZuOiAoYWNjOiBSLCB4OiBULCBpbmRleDogbnVtYmVyKSA9PiBSLFxuICAgICAgc2VlZD86IFQgfCBSKTogVCB8IFIge1xuICBjb25zdCAvKiogQHR5cGUge2Jvb2xlYW59ICovIGhhc1NlZWQgPSBhcmd1bWVudHMubGVuZ3RoID09PSAzO1xuICBsZXQgLyoqIEB0eXBlIHtudW1iZXJ9ICovIGkgPSAwLCAvKiogQHR5cGUge2Jvb2xlYW59ICovIGhhc1ZhbHVlID0gZmFsc2U7XG4gIGZvciAobGV0IC8qKiBAdHlwZSB7VH0gKi8gaXRlbSBvZiBzb3VyY2UpIHtcbiAgICBpZiAoaGFzVmFsdWUgfHwgKGhhc1ZhbHVlID0gaGFzU2VlZCkpIHtcbiAgICAgIHNlZWQgPSBmbiggLyoqIEB0eXBlIHtSfSAqLygoPFI+c2VlZCkpLCBpdGVtLCBpKyspO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWVkID0gaXRlbTtcbiAgICAgIGhhc1ZhbHVlID0gdHJ1ZTtcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cblxuICBpZiAoaGFzU2VlZCAmJiAhaGFzVmFsdWUpIHtcbiAgICByZXR1cm4gLyoqIEB0eXBlIHsoVHxSKX0gKi8oKCBzZWVkKSk7XG4gIH1cblxuICBpZiAoIWhhc1ZhbHVlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZXF1ZW5jZSBjb250YWlucyBubyBlbGVtZW50cycpO1xuICB9XG5cbiAgcmV0dXJuIC8qKiBAdHlwZSB7KFR8Uil9ICovKCggc2VlZCkpO1xufVxuIl19