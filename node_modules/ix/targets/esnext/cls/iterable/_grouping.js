goog.module('targets.esnext.cls.iterable._grouping'); exports = {}; var module = {id: 'targets/esnext/cls/iterable/_grouping.js'};/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @ignore
 * @template TSource, TKey, TValue
 * @param {!Iterable<TSource>} source
 * @param {function(TSource): TKey} keySelector
 * @param {function(TSource): TValue} elementSelector
 * @return {!Map<TKey, !Array<TValue>>}
 */
function createGrouping(source, keySelector, elementSelector) {
    let /** @type {!Map<TKey, !Array<TValue>>} */ map = new Map();
    for (let /** @type {TSource} */ item of source) {
        let /** @type {TKey} */ key = keySelector(item);
        let /** @type {!Array<TValue>} */ grouping = map.get(key);
        if (!map.has(key)) {
            grouping = [];
            map.set(key, grouping);
        } /** @type {!Array<TValue>} */
        ((grouping)).push(elementSelector(item));
    }
    return map;
}
exports.createGrouping = createGrouping;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9pdGVyYWJsZS9fZ3JvdXBpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztHQUdHOztBQUdIOzs7Ozs7O0dBT0c7QUFWSCx3QkFZSSxNQVh5QixFQVl6QixXQVhxQyxFQVlyQyxlQVgyQztJQVk3QyxJQUFJLHlDQVhELENBQUEsR0FBSSxHQUFFLElBQUksR0FBSSxFQUFrQixDQUFDO0lBWXBDLEdBQUcsQ0FBQyxDQVhDLElBQUEsc0JBQUcsQ0FBQSxJQUFLLElBQUcsTUFBTyxDQUFDLENBQUEsQ0FBRTtRQVl4QixJQUFJLG1CQVhELENBQUEsR0FBSSxHQUFFLFdBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQVk1QixJQUFJLDZCQVhELENBQUEsUUFBUyxHQUFFLEdBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFZNUIsRUFBRSxDQUFDLENBWEMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUEsQ0FBRTtZQVlsQixRQVhRLEdBQUUsRUFBRyxDQUFDO1lBWWQsR0FYRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUMsUUFBUyxDQUFDLENBQUM7UUFZekIsQ0FBQyxDQUFDLDZCQUE2QjtRQUFBLENBQUMsQ0FDaEMsUUFBUSxDQUFDLENBWEEsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7SUFZeEMsQ0FYQztJQWFELE1BWE0sQ0FBQSxHQUFJLENBQUM7QUFZYixDQVhDO0FBaEJELHdDQWdCQyIsImZpbGUiOiJfZ3JvdXBpbmcuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3IGFkZGVkIGJ5IHRzaWNrbGVcbiAqIEBzdXBwcmVzcyB7Y2hlY2tUeXBlc30gY2hlY2tlZCBieSB0c2NcbiAqL1xuXG5cbi8qKlxuICogQGlnbm9yZVxuICogQHRlbXBsYXRlIFRTb3VyY2UsIFRLZXksIFRWYWx1ZVxuICogQHBhcmFtIHshSXRlcmFibGU8VFNvdXJjZT59IHNvdXJjZVxuICogQHBhcmFtIHtmdW5jdGlvbihUU291cmNlKTogVEtleX0ga2V5U2VsZWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oVFNvdXJjZSk6IFRWYWx1ZX0gZWxlbWVudFNlbGVjdG9yXG4gKiBAcmV0dXJuIHshTWFwPFRLZXksICFBcnJheTxUVmFsdWU+Pn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdyb3VwaW5nPFRTb3VyY2UsIFRLZXksIFRWYWx1ZT4oXG4gICAgc291cmNlOiBJdGVyYWJsZTxUU291cmNlPixcbiAgICBrZXlTZWxlY3RvcjogKHZhbHVlOiBUU291cmNlKSA9PiBUS2V5LFxuICAgIGVsZW1lbnRTZWxlY3RvcjogKHZhbHVlOiBUU291cmNlKSA9PiBUVmFsdWUpOiBNYXA8VEtleSwgVFZhbHVlW10+IHtcbiAgbGV0IC8qKiBAdHlwZSB7IU1hcDxUS2V5LCAhQXJyYXk8VFZhbHVlPj59ICovIG1hcCA9IG5ldyBNYXA8VEtleSwgVFZhbHVlW10+KCk7XG4gIGZvciAobGV0IC8qKiBAdHlwZSB7VFNvdXJjZX0gKi8gaXRlbSBvZiBzb3VyY2UpIHtcbiAgICBsZXQgLyoqIEB0eXBlIHtUS2V5fSAqLyBrZXkgPSBrZXlTZWxlY3RvcihpdGVtKTtcbiAgICBsZXQgLyoqIEB0eXBlIHshQXJyYXk8VFZhbHVlPn0gKi8gZ3JvdXBpbmcgPSBtYXAuZ2V0KGtleSk7XG4gICAgaWYgKCFtYXAuaGFzKGtleSkpIHtcbiAgICAgIGdyb3VwaW5nID0gW107XG4gICAgICBtYXAuc2V0KGtleSwgZ3JvdXBpbmcpO1xuICAgIH0gLyoqIEB0eXBlIHshQXJyYXk8VFZhbHVlPn0gKi8oKFxuICAgIGdyb3VwaW5nKSkucHVzaChlbGVtZW50U2VsZWN0b3IoaXRlbSkpO1xuICB9XG5cbiAgcmV0dXJuIG1hcDtcbn1cbiJdfQ==