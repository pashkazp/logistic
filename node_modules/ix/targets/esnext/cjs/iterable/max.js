Object.defineProperty(exports, "__esModule", { value: true });
const identity_1 = require("../internal/identity");
function max(source, fn = identity_1.identity) {
    let atleastOnce = false;
    let value = -Infinity;
    for (let item of source) {
        if (!atleastOnce) {
            atleastOnce = true;
        }
        let x = fn(item);
        if (x > value) {
            value = x;
        }
    }
    if (!atleastOnce) {
        throw new Error('Sequence contains no elements');
    }
    return value;
}
exports.max = max;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIml0ZXJhYmxlL21heC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsbURBQWdEO0FBSWhELGFBQW9CLE1BQXFCLEVBQUUsS0FBeUIsbUJBQVE7SUFDMUUsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDO0lBQ3hCLElBQUksS0FBSyxHQUFHLENBQUMsUUFBUSxDQUFDO0lBQ3RCLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDeEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLFdBQVcsR0FBRyxJQUFJLENBQUM7UUFDckIsQ0FBQztRQUNELElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNqQixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUFDLEtBQUssR0FBRyxDQUFDLENBQUM7UUFBQyxDQUFDO0lBQy9CLENBQUM7SUFDRCxFQUFFLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7UUFDakIsTUFBTSxJQUFJLEtBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQ2YsQ0FBQztBQWZELGtCQWVDIiwiZmlsZSI6Iml0ZXJhYmxlL21heC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vaW50ZXJuYWwvaWRlbnRpdHknO1xuXG5leHBvcnQgZnVuY3Rpb24gbWF4KHNvdXJjZTogSXRlcmFibGU8bnVtYmVyPiwgZm4/OiAoeDogbnVtYmVyKSA9PiBudW1iZXIpOiBudW1iZXI7XG5leHBvcnQgZnVuY3Rpb24gbWF4PFQ+KHNvdXJjZTogSXRlcmFibGU8VD4sIGZuOiAoeDogVCkgPT4gbnVtYmVyKTogbnVtYmVyO1xuZXhwb3J0IGZ1bmN0aW9uIG1heChzb3VyY2U6IEl0ZXJhYmxlPGFueT4sIGZuOiAoeDogYW55KSA9PiBudW1iZXIgPSBpZGVudGl0eSk6IG51bWJlciB7XG4gIGxldCBhdGxlYXN0T25jZSA9IGZhbHNlO1xuICBsZXQgdmFsdWUgPSAtSW5maW5pdHk7XG4gIGZvciAobGV0IGl0ZW0gb2Ygc291cmNlKSB7XG4gICAgaWYgKCFhdGxlYXN0T25jZSkge1xuICAgICAgYXRsZWFzdE9uY2UgPSB0cnVlO1xuICAgIH1cbiAgICBsZXQgeCA9IGZuKGl0ZW0pO1xuICAgIGlmICh4ID4gdmFsdWUpIHsgdmFsdWUgPSB4OyB9XG4gIH1cbiAgaWYgKCFhdGxlYXN0T25jZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU2VxdWVuY2UgY29udGFpbnMgbm8gZWxlbWVudHMnKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cbiJdfQ==
