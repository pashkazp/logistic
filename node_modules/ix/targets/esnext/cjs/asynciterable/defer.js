Object.defineProperty(exports, "__esModule", { value: true });
const asynciterable_1 = require("../asynciterable");
class DeferAsyncIterable extends asynciterable_1.AsyncIterableX {
    constructor(fn) {
        super();
        this._fn = fn;
    }
    async *[Symbol.asyncIterator]() {
        let items = await this._fn();
        for await (let item of items) {
            yield item;
        }
    }
}
function defer(factory) {
    return new DeferAsyncIterable(factory);
}
exports.defer = defer;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvZGVmZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLG9EQUFrRDtBQUVsRCx3QkFBa0MsU0FBUSw4QkFBdUI7SUFHL0QsWUFBWSxFQUFrRTtRQUM1RSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO0lBQ2hCLENBQUM7SUFFRCxLQUFLLEVBQUUsQ0FBQyxNQUFNLENBQUMsYUFBYSxDQUFDO1FBQzNCLElBQUksS0FBSyxHQUFHLE1BQU0sSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQzdCLEdBQUcsQ0FBQyxLQUFLLENBQUwsQ0FBTyxJQUFJLElBQUksSUFBSSxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQUMsTUFBTSxJQUFJLENBQUM7UUFBQyxDQUFDO0lBQy9DLENBQUM7Q0FDRjtBQUVELGVBQ0ksT0FBdUU7SUFDekUsTUFBTSxDQUFDLElBQUksa0JBQWtCLENBQVUsT0FBTyxDQUFDLENBQUM7QUFDbEQsQ0FBQztBQUhELHNCQUdDIiwiZmlsZSI6ImFzeW5jaXRlcmFibGUvZGVmZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBc3luY0l0ZXJhYmxlWCB9IGZyb20gJy4uL2FzeW5jaXRlcmFibGUnO1xuXG5jbGFzcyBEZWZlckFzeW5jSXRlcmFibGU8VFNvdXJjZT4gZXh0ZW5kcyBBc3luY0l0ZXJhYmxlWDxUU291cmNlPiB7XG4gIHByaXZhdGUgX2ZuOiAoKSA9PiBBc3luY0l0ZXJhYmxlPFRTb3VyY2U+IHwgUHJvbWlzZTxBc3luY0l0ZXJhYmxlPFRTb3VyY2U+PjtcblxuICBjb25zdHJ1Y3RvcihmbjogKCkgPT4gQXN5bmNJdGVyYWJsZTxUU291cmNlPiB8IFByb21pc2U8QXN5bmNJdGVyYWJsZTxUU291cmNlPj4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX2ZuID0gZm47XG4gIH1cblxuICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICBsZXQgaXRlbXMgPSBhd2FpdCB0aGlzLl9mbigpO1xuICAgIGZvciBhd2FpdCAobGV0IGl0ZW0gb2YgaXRlbXMpIHsgeWllbGQgaXRlbTsgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWZlcjxUU291cmNlPihcbiAgICBmYWN0b3J5OiAoKSA9PiBBc3luY0l0ZXJhYmxlPFRTb3VyY2U+IHwgUHJvbWlzZTxBc3luY0l0ZXJhYmxlPFRTb3VyY2U+Pik6IEFzeW5jSXRlcmFibGVYPFRTb3VyY2U+IHtcbiAgcmV0dXJuIG5ldyBEZWZlckFzeW5jSXRlcmFibGU8VFNvdXJjZT4oZmFjdG9yeSk7XG59XG4iXX0=
