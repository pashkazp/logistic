Object.defineProperty(exports, "__esModule", { value: true });
const defer_1 = require("./defer");
const empty_1 = require("./empty");
function _case(selector, sources, defaultSource = empty_1.empty()) {
    return defer_1.defer(async () => {
        const key = await selector();
        return sources.has(key) ? sources.get(key) : defaultSource;
    });
}
exports._case = _case;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvY2FzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0EsbUNBQWdDO0FBQ2hDLG1DQUFnQztBQUVoQyxlQUNJLFFBQTBDLEVBQzFDLE9BQTZDLEVBQzdDLGdCQUF3QyxhQUFLLEVBQVc7SUFDMUQsTUFBTSxDQUFDLGFBQUssQ0FBVSxLQUFLO1FBQ3pCLE1BQU0sR0FBRyxHQUFHLE1BQU0sUUFBUSxFQUFFLENBQUM7UUFDN0IsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsR0FBRyxhQUFhLENBQUM7SUFDOUQsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBUkQsc0JBUUMiLCJmaWxlIjoiYXN5bmNpdGVyYWJsZS9jYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXN5bmNJdGVyYWJsZVggfSBmcm9tICcuLi9hc3luY2l0ZXJhYmxlJztcbmltcG9ydCB7IGRlZmVyIH0gZnJvbSAnLi9kZWZlcic7XG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4vZW1wdHknO1xuXG5leHBvcnQgZnVuY3Rpb24gX2Nhc2U8VFNvdXJjZSwgVFJlc3VsdD4oXG4gICAgc2VsZWN0b3I6ICgpID0+IFRTb3VyY2UgfCBQcm9taXNlPFRTb3VyY2U+LFxuICAgIHNvdXJjZXM6IE1hcDxUU291cmNlLCBBc3luY0l0ZXJhYmxlPFRSZXN1bHQ+PixcbiAgICBkZWZhdWx0U291cmNlOiBBc3luY0l0ZXJhYmxlPFRSZXN1bHQ+ID0gZW1wdHk8VFJlc3VsdD4oKSk6IEFzeW5jSXRlcmFibGVYPFRSZXN1bHQ+IHtcbiAgcmV0dXJuIGRlZmVyPFRSZXN1bHQ+KGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBrZXkgPSBhd2FpdCBzZWxlY3RvcigpO1xuICAgIHJldHVybiBzb3VyY2VzLmhhcyhrZXkpID8gc291cmNlcy5nZXQoa2V5KSEgOiBkZWZhdWx0U291cmNlO1xuICB9KTtcbn1cbiJdfQ==
