Object.defineProperty(exports, "__esModule", { value: true });
async function single(source, selector = () => true) {
    let result;
    let hasResult = false;
    for await (let item of source) {
        if (hasResult && await selector(item)) {
            throw new Error('More than one element was found');
        }
        if (await selector(item)) {
            result = item;
            hasResult = true;
        }
    }
    return result;
}
exports.single = single;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvc2luZ2xlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBTyxLQUFLLGlCQUNSLE1BQXdCLEVBQ3hCLFdBQXFELE1BQU0sSUFBSTtJQUNqRSxJQUFJLE1BQXFCLENBQUM7SUFDMUIsSUFBSSxTQUFTLEdBQUcsS0FBSyxDQUFDO0lBQ3RCLEdBQUcsQ0FBQyxLQUFLLENBQUwsQ0FBTyxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDO1FBQzlCLEVBQUUsQ0FBQyxDQUFDLFNBQVMsSUFBSSxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO1FBQ3JELENBQUM7UUFDRCxFQUFFLENBQUMsQ0FBQyxNQUFNLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekIsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNkLFNBQVMsR0FBRyxJQUFJLENBQUM7UUFDbkIsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDO0FBQ2hCLENBQUM7QUFoQkQsd0JBZ0JDIiwiZmlsZSI6ImFzeW5jaXRlcmFibGUvc2luZ2xlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpbmdsZTxUPihcbiAgICBzb3VyY2U6IEFzeW5jSXRlcmFibGU8VD4sXG4gICAgc2VsZWN0b3I6ICh2YWx1ZTogVCkgPT4gYm9vbGVhbiB8IFByb21pc2U8Ym9vbGVhbj4gPSAoKSA9PiB0cnVlKTogUHJvbWlzZTxUIHwgdW5kZWZpbmVkPiB7XG4gIGxldCByZXN1bHQ6IFQgfCB1bmRlZmluZWQ7XG4gIGxldCBoYXNSZXN1bHQgPSBmYWxzZTtcbiAgZm9yIGF3YWl0IChsZXQgaXRlbSBvZiBzb3VyY2UpIHtcbiAgICBpZiAoaGFzUmVzdWx0ICYmIGF3YWl0IHNlbGVjdG9yKGl0ZW0pKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vcmUgdGhhbiBvbmUgZWxlbWVudCB3YXMgZm91bmQnKTtcbiAgICB9XG4gICAgaWYgKGF3YWl0IHNlbGVjdG9yKGl0ZW0pKSB7XG4gICAgICByZXN1bHQgPSBpdGVtO1xuICAgICAgaGFzUmVzdWx0ID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIl19
