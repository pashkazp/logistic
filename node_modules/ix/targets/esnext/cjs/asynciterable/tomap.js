Object.defineProperty(exports, "__esModule", { value: true });
const identity_1 = require("../internal/identity");
async function toMap(source, keySelector, elementSelector = identity_1.identityAsync) {
    let map = new Map();
    for await (let item of source) {
        let value = await elementSelector(item);
        let key = await keySelector(item);
        map.set(key, value);
    }
    return map;
}
exports.toMap = toMap;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvdG9tYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLG1EQUFxRDtBQVM5QyxLQUFLLGdCQUNSLE1BQThCLEVBQzlCLFdBQW9ELEVBQ3BELGtCQUFtRSx3QkFBYTtJQUVsRixJQUFJLEdBQUcsR0FBRyxJQUFJLEdBQUcsRUFBNEIsQ0FBQztJQUM5QyxHQUFHLENBQUMsS0FBSyxDQUFMLENBQU8sSUFBSSxJQUFJLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQztRQUM5QixJQUFJLEtBQUssR0FBRyxNQUFNLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QyxJQUFJLEdBQUcsR0FBRyxNQUFNLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNsQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUN0QixDQUFDO0lBQ0QsTUFBTSxDQUFDLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFaRCxzQkFZQyIsImZpbGUiOiJhc3luY2l0ZXJhYmxlL3RvbWFwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaWRlbnRpdHlBc3luYyB9IGZyb20gJy4uL2ludGVybmFsL2lkZW50aXR5JztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvTWFwPFRTb3VyY2UsIFRLZXk+KFxuICAgIHNvdXJjZTogQXN5bmNJdGVyYWJsZTxUU291cmNlPixcbiAgICBrZXlTZWxlY3RvcjogKGl0ZW06IFRTb3VyY2UpID0+IFRLZXkgfCBQcm9taXNlPFRLZXk+KTogUHJvbWlzZTxNYXA8VEtleSwgVFNvdXJjZT4+O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvTWFwPFRTb3VyY2UsIFRLZXksIFRFbGVtZW50ID0gVFNvdXJjZT4oXG4gICAgc291cmNlOiBBc3luY0l0ZXJhYmxlPFRTb3VyY2U+LFxuICAgIGtleVNlbGVjdG9yOiAoaXRlbTogVFNvdXJjZSkgPT4gVEtleSB8IFByb21pc2U8VEtleT4sXG4gICAgZWxlbWVudFNlbGVjdG9yPzogKGl0ZW06IFRTb3VyY2UpID0+IFRFbGVtZW50IHwgUHJvbWlzZTxURWxlbWVudD4pOiBQcm9taXNlPE1hcDxUS2V5LCBURWxlbWVudD4+O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvTWFwPFRTb3VyY2UsIFRLZXksIFRFbGVtZW50ID0gVFNvdXJjZT4oXG4gICAgc291cmNlOiBBc3luY0l0ZXJhYmxlPFRTb3VyY2U+LFxuICAgIGtleVNlbGVjdG9yOiAoaXRlbTogVFNvdXJjZSkgPT4gVEtleSB8IFByb21pc2U8VEtleT4sXG4gICAgZWxlbWVudFNlbGVjdG9yOiAoaXRlbTogVFNvdXJjZSkgPT4gVEVsZW1lbnQgfCBQcm9taXNlPFRFbGVtZW50PiA9IGlkZW50aXR5QXN5bmMpOlxuICAgIFByb21pc2U8TWFwPFRLZXksIFRFbGVtZW50IHwgVFNvdXJjZT4+IHtcbiAgbGV0IG1hcCA9IG5ldyBNYXA8VEtleSwgVEVsZW1lbnQgfCBUU291cmNlPigpO1xuICBmb3IgYXdhaXQgKGxldCBpdGVtIG9mIHNvdXJjZSkge1xuICAgIGxldCB2YWx1ZSA9IGF3YWl0IGVsZW1lbnRTZWxlY3RvcihpdGVtKTtcbiAgICBsZXQga2V5ID0gYXdhaXQga2V5U2VsZWN0b3IoaXRlbSk7XG4gICAgbWFwLnNldChrZXksIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gbWFwO1xufVxuIl19
