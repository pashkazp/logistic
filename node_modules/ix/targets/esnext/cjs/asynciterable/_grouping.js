Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @ignore
 */
async function createGrouping(source, keySelector, elementSelector) {
    let map = new Map();
    for await (let item of source) {
        let key = await keySelector(item);
        let grouping = map.get(key);
        if (!map.has(key)) {
            grouping = [];
            map.set(key, grouping);
        }
        let element = await elementSelector(item);
        grouping.push(element);
    }
    return map;
}
exports.createGrouping = createGrouping;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzeW5jaXRlcmFibGUvX2dyb3VwaW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7R0FFRztBQUNJLEtBQUsseUJBQ1IsTUFBOEIsRUFDOUIsV0FBcUQsRUFDckQsZUFBNkQ7SUFDL0QsSUFBSSxHQUFHLEdBQUcsSUFBSSxHQUFHLEVBQWtCLENBQUM7SUFDcEMsR0FBRyxDQUFDLEtBQUssQ0FBTCxDQUFPLElBQUksSUFBSSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDOUIsSUFBSSxHQUFHLEdBQUcsTUFBTSxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDbEMsSUFBSSxRQUFRLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUM1QixFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xCLFFBQVEsR0FBRyxFQUFFLENBQUM7WUFDZCxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUN6QixDQUFDO1FBQ0QsSUFBSSxPQUFPLEdBQUcsTUFBTSxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUMsUUFBUyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBRUQsTUFBTSxDQUFDLEdBQUcsQ0FBQztBQUNiLENBQUM7QUFqQkQsd0NBaUJDIiwiZmlsZSI6ImFzeW5jaXRlcmFibGUvX2dyb3VwaW5nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVHcm91cGluZzxUU291cmNlLCBUS2V5LCBUVmFsdWU+KFxuICAgIHNvdXJjZTogQXN5bmNJdGVyYWJsZTxUU291cmNlPixcbiAgICBrZXlTZWxlY3RvcjogKHZhbHVlOiBUU291cmNlKSA9PiBUS2V5IHwgUHJvbWlzZTxUS2V5PixcbiAgICBlbGVtZW50U2VsZWN0b3I6ICh2YWx1ZTogVFNvdXJjZSkgPT4gVFZhbHVlIHwgUHJvbWlzZTxUVmFsdWU+KTogUHJvbWlzZTxNYXA8VEtleSwgVFZhbHVlW10+PiB7XG4gIGxldCBtYXAgPSBuZXcgTWFwPFRLZXksIFRWYWx1ZVtdPigpO1xuICBmb3IgYXdhaXQgKGxldCBpdGVtIG9mIHNvdXJjZSkge1xuICAgIGxldCBrZXkgPSBhd2FpdCBrZXlTZWxlY3RvcihpdGVtKTtcbiAgICBsZXQgZ3JvdXBpbmcgPSBtYXAuZ2V0KGtleSk7XG4gICAgaWYgKCFtYXAuaGFzKGtleSkpIHtcbiAgICAgIGdyb3VwaW5nID0gW107XG4gICAgICBtYXAuc2V0KGtleSwgZ3JvdXBpbmcpO1xuICAgIH1cbiAgICBsZXQgZWxlbWVudCA9IGF3YWl0IGVsZW1lbnRTZWxlY3RvcihpdGVtKTtcbiAgICBncm91cGluZyEucHVzaChlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiBtYXA7XG59XG4iXX0=
